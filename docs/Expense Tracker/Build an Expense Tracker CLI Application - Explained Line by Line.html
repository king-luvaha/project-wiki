<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-Expense Tracker/Build an Expense Tracker CLI Application - Explained Line by Line" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">Build an Expense Tracker CLI Application - Explained Line by Line | Synaptic</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://king-luvaha.github.io/project-wiki/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://king-luvaha.github.io/project-wiki/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://king-luvaha.github.io/project-wiki/docs/Expense Tracker/Build an Expense Tracker CLI Application - Explained Line by Line"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Build an Expense Tracker CLI Application - Explained Line by Line | Synaptic"><meta data-rh="true" name="description" content="In this tutorial, we’ll build a command-line expense tracker using Python. This tool will help users log expenses, set budgets, and generate spending reports. By the end, you’ll understand how to structure a CLI application, manage data persistence, and implement key financial tracking features."><meta data-rh="true" property="og:description" content="In this tutorial, we’ll build a command-line expense tracker using Python. This tool will help users log expenses, set budgets, and generate spending reports. By the end, you’ll understand how to structure a CLI application, manage data persistence, and implement key financial tracking features."><link data-rh="true" rel="icon" href="/project-wiki/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://king-luvaha.github.io/project-wiki/docs/Expense Tracker/Build an Expense Tracker CLI Application - Explained Line by Line"><link data-rh="true" rel="alternate" href="https://king-luvaha.github.io/project-wiki/docs/Expense Tracker/Build an Expense Tracker CLI Application - Explained Line by Line" hreflang="en"><link data-rh="true" rel="alternate" href="https://king-luvaha.github.io/project-wiki/docs/Expense Tracker/Build an Expense Tracker CLI Application - Explained Line by Line" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Build an Expense Tracker CLI Application - Explained Line by Line","item":"https://king-luvaha.github.io/project-wiki/docs/Expense Tracker/Build an Expense Tracker CLI Application - Explained Line by Line"}]}</script><link rel="alternate" type="application/rss+xml" href="/project-wiki/blog/rss.xml" title="Synaptic RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/project-wiki/blog/atom.xml" title="Synaptic Atom Feed"><link rel="stylesheet" href="/project-wiki/assets/css/styles.8152b5a0.css">
<script src="/project-wiki/assets/js/runtime~main.92acc8f8.js" defer="defer"></script>
<script src="/project-wiki/assets/js/main.635d101b.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/project-wiki/img/logo.svg"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/project-wiki/"><div class="navbar__logo"><img src="/project-wiki/img/logo.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/project-wiki/img/logo.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Synaptic</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/project-wiki/docs/intro">Tutorial</a><a class="navbar__item navbar__link" href="/project-wiki/blog">Blog</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/king-luvaha" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/project-wiki/docs/intro">Tutorial Intro</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/project-wiki/docs/category/tutorial---basics">Tutorial - Basics</a><button aria-label="Expand sidebar category &#x27;Tutorial - Basics&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/project-wiki/docs/category/tutorial---extras">Tutorial - Extras</a><button aria-label="Expand sidebar category &#x27;Tutorial - Extras&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/project-wiki/docs/Expense Tracker/Build an Expense Tracker CLI Application - Explained Line by Line">Expense Tracker</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/project-wiki/docs/Expense Tracker/Build an Expense Tracker CLI Application - Explained Line by Line">Build an Expense Tracker CLI Application - Explained Line by Line</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/project-wiki/docs/Expense Tracker/Expense Tracker CLI Application">Expense Tracker CLI Application</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/project-wiki/docs/Expense Tracker/Step by Step Guide to Building a Python Expense Tracker CLI">Step by Step Guide to Building a Python Expense Tracker CLI</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/project-wiki/docs/GitHub User Activity/Build a GitHub User Activity CLI Application - Explained Line by Line">GitHub User Activity</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/project-wiki/docs/Number Guessing Game/Build a Number Guessing Game Application - Explained Line by Line">Number Guessing Game</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/project-wiki/docs/Task Tracker/Build a Simple Python CLI Task Tracker - Explained Line by Line">Task Tracker</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/project-wiki/docs/Unit Converter">Unit Converter</a><button aria-label="Expand sidebar category &#x27;Unit Converter&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/project-wiki/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Expense Tracker</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Build an Expense Tracker CLI Application - Explained Line by Line</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Build an Expense Tracker CLI Application - Explained Line by Line</h1></header><p>In this tutorial, we’ll build a <strong>command-line expense tracker</strong> using Python. This tool will help users log expenses, set budgets, and generate spending reports. By the end, you’ll understand how to structure a CLI application, manage data persistence, and implement key financial tracking features.</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="step-1-planning-the-application"><strong>Step 1: Planning the Application</strong><a href="#step-1-planning-the-application" class="hash-link" aria-label="Direct link to step-1-planning-the-application" title="Direct link to step-1-planning-the-application">​</a></h2>
<p>Let&#x27;s break down each import statement in this code to understand what they do and why they&#x27;re needed for our expense tracker application.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="core-features"><strong>Core Features</strong><a href="#core-features" class="hash-link" aria-label="Direct link to core-features" title="Direct link to core-features">​</a></h3>
<ol>
<li><strong>Add Expenses</strong> (description, amount, category, date)</li>
<li><strong>List Expenses</strong> (filter by category)</li>
<li><strong>Delete/Update Expenses</strong></li>
<li><strong>Set Monthly Budgets</strong></li>
<li><strong>Generate Reports</strong> (monthly summary, category-wise breakdown)</li>
<li><strong>Export Data</strong> (to CSV)</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="data-storage"><strong>Data Storage</strong><a href="#data-storage" class="hash-link" aria-label="Direct link to data-storage" title="Direct link to data-storage">​</a></h3>
<ul>
<li><strong>Expenses</strong>: Stored in <code>expenses.json</code></li>
<li><strong>Budgets</strong>: Stored in <code>budgets.json</code></li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="tools--libraries"><strong>Tools &amp; Libraries</strong><a href="#tools--libraries" class="hash-link" aria-label="Direct link to tools--libraries" title="Direct link to tools--libraries">​</a></h3>
<ul>
<li><code>argparse</code> – For CLI argument parsing</li>
<li><code>json</code> – For storing/loading data</li>
<li><code>csv</code> – For exporting expenses</li>
<li><code>datetime</code> – For tracking expense dates</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="step-2-setting-up-the-project"><strong>Step 2: Setting Up the Project</strong><a href="#step-2-setting-up-the-project" class="hash-link" aria-label="Direct link to step-2-setting-up-the-project" title="Direct link to step-2-setting-up-the-project">​</a></h2>
<p>Create a new Python file (<code>expense_tracker.py</code>) and start with the imports:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> argparse</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> json</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> os</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> datetime </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> datetime</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> csv</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> collections </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> defaultdict</span><br></span></code></pre></div></div>
<h6 class="anchor anchorWithStickyNavbar_LWe7" id="1-import-argparse">1. <code>import argparse</code><a href="#1-import-argparse" class="hash-link" aria-label="Direct link to 1-import-argparse" title="Direct link to 1-import-argparse">​</a></h6>
<p><strong>Purpose</strong>: This imports Python&#x27;s built-in module for creating command-line interfaces.</p>
<p><strong>Why we need it</strong>:</p>
<ul>
<li>Allows our program to accept commands and arguments from the terminal</li>
<li>Will help us create commands like <code>add</code>, <code>list</code>, <code>delete</code> for our expense tracker</li>
<li>Handles parsing of arguments automatically (like <code>--amount 25.50</code>)</li>
</ul>
<p><strong>Example use case</strong>:
When a user types <code>python expense_tracker.py add --amount 10 --category Food</code>, <code>argparse</code> will:</p>
<ol>
<li>Recognize &quot;add&quot; as the command</li>
<li>Extract &quot;--amount&quot; and &quot;--category&quot; as arguments</li>
<li>Make them available to our program</li>
</ol>
<h6 class="anchor anchorWithStickyNavbar_LWe7" id="2-import-json">2. <code>import json</code><a href="#2-import-json" class="hash-link" aria-label="Direct link to 2-import-json" title="Direct link to 2-import-json">​</a></h6>
<p><strong>Purpose</strong>: Imports Python&#x27;s JSON module for working with JSON data.</p>
<p><strong>Why we need it</strong>:</p>
<ul>
<li>Our expense tracker saves data to JSON files (<code>expenses.json</code>, <code>budgets.json</code>)</li>
<li>Provides functions to:<!-- -->
<ul>
<li><code>json.load()</code> - Read JSON data from files</li>
<li><code>json.dump()</code> - Write Python data to JSON files</li>
</ul>
</li>
<li>Converts between Python objects (lists, dictionaries) and JSON format</li>
</ul>
<p><strong>Example use case</strong>:
When saving a new expense, we&#x27;ll convert our Python dictionary:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">expense </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">&quot;id&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;amount&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">25.50</span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<p>into JSON format to store in our file:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;id&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;amount&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">25.50</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<h6 class="anchor anchorWithStickyNavbar_LWe7" id="3-import-os">3. <code>import os</code><a href="#3-import-os" class="hash-link" aria-label="Direct link to 3-import-os" title="Direct link to 3-import-os">​</a></h6>
<p><strong>Purpose</strong>: Imports operating system interface module.</p>
<p><strong>Why we need it</strong>:</p>
<ul>
<li>Mainly using it for <code>os.path.exists()</code> function</li>
<li>This checks whether our data files exist before trying to read them</li>
<li>Prevents errors when running the program for the first time (when no data files exist yet)</li>
</ul>
<p><strong>Example use case</strong>:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> os</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">path</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">exists</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;expenses.json&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># File exists, load it</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">else</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># First run, start with empty list</span><br></span></code></pre></div></div>
<h6 class="anchor anchorWithStickyNavbar_LWe7" id="4-from-datetime-import-datetime">4. <code>from datetime import datetime</code><a href="#4-from-datetime-import-datetime" class="hash-link" aria-label="Direct link to 4-from-datetime-import-datetime" title="Direct link to 4-from-datetime-import-datetime">​</a></h6>
<p><strong>Purpose</strong>: Imports the <code>datetime</code> class from Python&#x27;s datetime module.</p>
<p><strong>Why we need it</strong>:</p>
<ul>
<li>To automatically record when expenses are added</li>
<li>For date manipulation (like getting current month for budgets)</li>
<li>Provides <code>strftime()</code> to format dates nicely (e.g., &quot;2023-12-25&quot;)</li>
<li>Provides <code>strptime()</code> to parse date strings back into date objects</li>
</ul>
<p><strong>Example use case</strong>:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># When adding an expense:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">expense_date </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> datetime</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">now</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">strftime</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;%Y-%m-%d&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># &quot;2023-12-25&quot;</span><br></span></code></pre></div></div>
<h6 class="anchor anchorWithStickyNavbar_LWe7" id="5-import-csv">5. <code>import csv</code><a href="#5-import-csv" class="hash-link" aria-label="Direct link to 5-import-csv" title="Direct link to 5-import-csv">​</a></h6>
<p><strong>Purpose</strong>: Imports Python&#x27;s CSV module for working with comma-separated values files.</p>
<p><strong>Why we need it</strong>:</p>
<ul>
<li>Provides functionality to export our expense data to CSV format</li>
<li>Creates properly formatted CSV files with headers</li>
<li>Handles special cases (like commas in descriptions) automatically</li>
</ul>
<p><strong>Example use case</strong>:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">with</span><span class="token plain"> </span><span class="token builtin">open</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;expenses.csv&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;w&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> f</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    writer </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> csv</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">DictWriter</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">f</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> fieldnames</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;id&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;date&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    writer</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">writeheader</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    writer</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">writerows</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">expenses</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<h6 class="anchor anchorWithStickyNavbar_LWe7" id="6-from-collections-import-defaultdict">6. <code>from collections import defaultdict</code><a href="#6-from-collections-import-defaultdict" class="hash-link" aria-label="Direct link to 6-from-collections-import-defaultdict" title="Direct link to 6-from-collections-import-defaultdict">​</a></h6>
<p><strong>Purpose</strong>: Imports a special dictionary type from the collections module.</p>
<p><strong>Why we need it</strong>:</p>
<ul>
<li>Creates dictionaries that automatically initialize missing keys</li>
<li>Particularly useful for our category summary feature</li>
<li>Avoids having to check &quot;if category not in dict&quot; repeatedly</li>
</ul>
<p><strong>Example use case</strong>:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">category_totals </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> defaultdict</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">float</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Defaults to 0.0 for new categories</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">category_totals</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;Food&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">25.50</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Works even if &quot;Food&quot; didn&#x27;t exist</span><br></span></code></pre></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="step-3-defining-data-storage"><strong>Step 3: Defining Data Storage</strong><a href="#step-3-defining-data-storage" class="hash-link" aria-label="Direct link to step-3-defining-data-storage" title="Direct link to step-3-defining-data-storage">​</a></h2>
<p>Let&#x27;s break down this section of the expense tracker code that handles loading and saving data to JSON files. This is a crucial part of the application as it ensures user data persists between program runs.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="file-path-constants">File Path Constants<a href="#file-path-constants" class="hash-link" aria-label="Direct link to File Path Constants" title="Direct link to File Path Constants">​</a></h4>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">EXPENSES_FILE </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;expenses.json&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">BUDGET_FILE </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;budgets.json&quot;</span><br></span></code></pre></div></div>
<p><strong>Explanation</strong>:</p>
<ul>
<li>These are <em>constants</em> (note the uppercase naming convention) that store the filenames for our data</li>
<li><code>expenses.json</code> will store all expense records</li>
<li><code>budgets.json</code> will store monthly budget information</li>
<li>Using constants makes it easy to change filenames later and avoids &quot;magic strings&quot;</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="expense-data-functions">Expense Data Functions<a href="#expense-data-functions" class="hash-link" aria-label="Direct link to Expense Data Functions" title="Direct link to Expense Data Functions">​</a></h4>
<h6 class="anchor anchorWithStickyNavbar_LWe7" id="load_expenses-function"><code>load_expenses()</code> Function<a href="#load_expenses-function" class="hash-link" aria-label="Direct link to load_expenses-function" title="Direct link to load_expenses-function">​</a></h6>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">load_expenses</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token triple-quoted-string string" style="color:#e3116c">&quot;&quot;&quot;Load expenses from file or return empty list if file doesn&#x27;t exist&quot;&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> os</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">path</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">exists</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">EXPENSES_FILE</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">with</span><span class="token plain"> </span><span class="token builtin">open</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">EXPENSES_FILE</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;r&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> f</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> json</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">load</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">f</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre></div></div>
<p><strong>Line-by-line breakdown</strong>:</p>
<ol>
<li><code>def load_expenses():</code> - Defines a function to load expenses</li>
<li><code>&quot;&quot;&quot;Docstring&quot;&quot;&quot;</code> - Explains what the function does (best practice!)</li>
<li><code>if os.path.exists(EXPENSES_FILE):</code> - Checks if the file exists<!-- -->
<ul>
<li>Important because the file won&#x27;t exist the first time the program runs</li>
</ul>
</li>
<li><code>with open(EXPENSES_FILE, &quot;r&quot;) as f:</code> - Opens the file in read mode<!-- -->
<ul>
<li><code>with</code> statement ensures proper file handling (auto-closes file)</li>
</ul>
</li>
<li><code>return json.load(f)</code> - Reads and parses the JSON file into Python objects</li>
<li><code>return []</code> - Returns empty list if file doesn&#x27;t exist (default case)</li>
</ol>
<p><strong>Key Points</strong>:</p>
<ul>
<li>Safe file handling (won&#x27;t crash if file missing)</li>
<li>Returns expenses as Python list of dictionaries</li>
<li>Empty list provides clean starting point for new users</li>
</ul>
<h6 class="anchor anchorWithStickyNavbar_LWe7" id="save_expenses-function"><code>save_expenses()</code> Function<a href="#save_expenses-function" class="hash-link" aria-label="Direct link to save_expenses-function" title="Direct link to save_expenses-function">​</a></h6>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">save_expenses</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">expenses</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token triple-quoted-string string" style="color:#e3116c">&quot;&quot;&quot;Save expenses to file&quot;&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">with</span><span class="token plain"> </span><span class="token builtin">open</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">EXPENSES_FILE</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;w&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> f</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        json</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">dump</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">expenses</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> f</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> indent</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p><strong>Line-by-line breakdown</strong>:</p>
<ol>
<li><code>def save_expenses(expenses):</code> - Defines function that takes expenses to save</li>
<li><code>with open(EXPENSES_FILE, &quot;w&quot;) as f:</code> - Opens file in write mode<!-- -->
<ul>
<li><code>&quot;w&quot;</code> mode will create the file if it doesn&#x27;t exist</li>
</ul>
</li>
<li><code>json.dump(expenses, f, indent=2)</code> - Writes data to file<!-- -->
<ul>
<li><code>indent=2</code> makes the JSON file human-readable with nice formatting</li>
</ul>
</li>
</ol>
<p><strong>Key Points</strong>:</p>
<ul>
<li>Overwrites entire file each time (simpler than partial updates)</li>
<li>Uses JSON format which is both machine and human-readable</li>
<li>Properly handles file opening/closing automatically</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="budget-data-functions">Budget Data Functions<a href="#budget-data-functions" class="hash-link" aria-label="Direct link to Budget Data Functions" title="Direct link to Budget Data Functions">​</a></h4>
<h6 class="anchor anchorWithStickyNavbar_LWe7" id="load_budgets-function"><code>load_budgets()</code> Function<a href="#load_budgets-function" class="hash-link" aria-label="Direct link to load_budgets-function" title="Direct link to load_budgets-function">​</a></h6>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">load_budgets</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token triple-quoted-string string" style="color:#e3116c">&quot;&quot;&quot;Load budgets from file or return empty dict if file doesn&#x27;t exist&quot;&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> os</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">path</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">exists</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">BUDGET_FILE</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">with</span><span class="token plain"> </span><span class="token builtin">open</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">BUDGET_FILE</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;r&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> f</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> json</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">load</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">f</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<p><strong>Differences from load_expenses()</strong>:</p>
<ul>
<li>Works with <code>BUDGET_FILE</code> instead</li>
<li>Returns empty dictionary <code>{}</code> instead of list <code>[]</code>
<ul>
<li>Because budgets are stored as <code>{month: amount}</code> key-value pairs</li>
</ul>
</li>
</ul>
<h6 class="anchor anchorWithStickyNavbar_LWe7" id="save_budgets-function"><code>save_budgets()</code> Function<a href="#save_budgets-function" class="hash-link" aria-label="Direct link to save_budgets-function" title="Direct link to save_budgets-function">​</a></h6>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">save_budgets</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">budgets</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token triple-quoted-string string" style="color:#e3116c">&quot;&quot;&quot;Save budgets to file&quot;&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">with</span><span class="token plain"> </span><span class="token builtin">open</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">BUDGET_FILE</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;w&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> f</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        json</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">dump</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">budgets</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> f</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> indent</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p><strong>Note</strong>: This is nearly identical to <code>save_expenses()</code> but works with the budgets file and data structure.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="why-this-pattern-matters">Why This Pattern Matters<a href="#why-this-pattern-matters" class="hash-link" aria-label="Direct link to Why This Pattern Matters" title="Direct link to Why This Pattern Matters">​</a></h4>
<ol>
<li>
<p><strong>Separation of Concerns</strong>:</p>
<ul>
<li>Loading/saving logic is separated from business logic</li>
<li>Makes code easier to maintain and modify</li>
</ul>
</li>
<li>
<p><strong>Data Persistence</strong>:</p>
<ul>
<li>Allows the program to remember data between runs</li>
<li>Uses standard JSON format that can be inspected/edited</li>
</ul>
</li>
<li>
<p><strong>Error Handling</strong>:</p>
<ul>
<li>Gracefully handles missing files (common first-run case)</li>
<li>Clean default values (empty list/dict)</li>
</ul>
</li>
<li>
<p><strong>Consistency</strong>:</p>
<ul>
<li>Follows same pattern for both expenses and budgets</li>
<li>Makes code predictable and easier to understand</li>
</ul>
</li>
</ol>
<p>This pattern of having paired load/save functions for each data type is common in applications that need simple file-based persistence.</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="step-4-adding-expenses"><strong>Step 4: Adding Expenses</strong><a href="#step-4-adding-expenses" class="hash-link" aria-label="Direct link to step-4-adding-expenses" title="Direct link to step-4-adding-expenses">​</a></h2>
<p>Let&#x27;s break down this core function that handles adding new expenses in our CLI expense tracker. I&#x27;ll explain each part in detail to help you understand how it works.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="function-definition-and-docstring">Function Definition and Docstring<a href="#function-definition-and-docstring" class="hash-link" aria-label="Direct link to Function Definition and Docstring" title="Direct link to Function Definition and Docstring">​</a></h4>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">add_expense</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">args</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token triple-quoted-string string" style="color:#e3116c">&quot;&quot;&quot;Add a new expense&quot;&quot;&quot;</span><br></span></code></pre></div></div>
<ul>
<li><code>def add_expense(args):</code> declares a function that takes <code>args</code> as a parameter</li>
<li>The docstring <code>&quot;&quot;&quot;Add a new expense&quot;&quot;&quot;</code> briefly explains the function&#x27;s purpose</li>
<li><code>args</code> contains all the command-line arguments passed by the user</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="loading-existing-expenses">Loading Existing Expenses<a href="#loading-existing-expenses" class="hash-link" aria-label="Direct link to Loading Existing Expenses" title="Direct link to Loading Existing Expenses">​</a></h4>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">expenses </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> load_expenses</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<ul>
<li>Calls the <code>load_expenses()</code> function we previously examined</li>
<li>Returns either:<!-- -->
<ul>
<li>A list of existing expenses from <code>expenses.json</code>, or</li>
<li>An empty list if no expenses exist yet</li>
</ul>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="generating-a-new-expense-id">Generating a New Expense ID<a href="#generating-a-new-expense-id" class="hash-link" aria-label="Direct link to Generating a New Expense ID" title="Direct link to Generating a New Expense ID">​</a></h4>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">new_id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token builtin">max</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">expense</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;id&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> expense </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> expenses</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">or</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><br></span></code></pre></div></div>
<p>This is a compact way to:</p>
<ol>
<li>Create a list of all existing expense IDs: <code>[expense[&quot;id&quot;] for expense in expenses]</code></li>
<li>If no expenses exist (empty list), use <code>[0]</code> instead (the <code>or [0]</code> part)</li>
<li>Find the maximum ID in that list with <code>max()</code></li>
<li>Add 1 to create a new unique ID</li>
</ol>
<p><strong>Example</strong>:</p>
<ul>
<li>Existing IDs: [1, 2, 5] → max is 5 → new ID is 6</li>
<li>No expenses → max of [0] is 0 → new ID is 1</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="creating-the-expense-dictionary">Creating the Expense Dictionary<a href="#creating-the-expense-dictionary" class="hash-link" aria-label="Direct link to Creating the Expense Dictionary" title="Direct link to Creating the Expense Dictionary">​</a></h4>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">expense </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;id&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> new_id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;date&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> datetime</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">now</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">strftime</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;%Y-%m-%d&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Auto-log date</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;description&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> args</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">description</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;amount&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">float</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">args</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">amount</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;category&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> args</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">category</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<p>Creates a dictionary representing the new expense with:</p>
<ul>
<li><code>id</code>: The newly generated unique ID</li>
<li><code>date</code>: Current date in YYYY-MM-DD format (auto-generated)</li>
<li><code>description</code>: From command-line argument (user-provided)</li>
<li><code>amount</code>: Converted to float from string argument</li>
<li><code>category</code>: From command-line argument</li>
</ul>
<p><strong>Note</strong>: <code>float(args.amount)</code> ensures the amount is stored as a number</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="saving-the-new-expense">Saving the New Expense<a href="#saving-the-new-expense" class="hash-link" aria-label="Direct link to Saving the New Expense" title="Direct link to Saving the New Expense">​</a></h4>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">expenses</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">append</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">expense</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">save_expenses</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">expenses</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<ol>
<li><code>expenses.append(expense)</code> adds the new expense to our in-memory list</li>
<li><code>save_expenses(expenses)</code> writes the updated list back to the JSON file</li>
</ol>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="budget-check-logic">Budget Check Logic<a href="#budget-check-logic" class="hash-link" aria-label="Direct link to Budget Check Logic" title="Direct link to Budget Check Logic">​</a></h4>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">current_month </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> datetime</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">now</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">month</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">budgets </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> load_budgets</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<ol>
<li>Gets current month as number (1-12)</li>
<li>Loads all budget data from file</li>
</ol>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">current_month</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> budgets</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    monthly_expenses </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token builtin">sum</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token builtin">float</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">e</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;amount&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> e </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> expenses </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> datetime</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">strptime</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">e</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;date&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;%Y-%m-%d&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">month </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> current_month</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<ul>
<li>Checks if budget exists for current month</li>
<li>Calculates total expenses for current month by:<!-- -->
<ol>
<li>Filtering expenses to only current month</li>
<li>Summing their amounts</li>
</ol>
</li>
</ul>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> monthly_expenses </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token builtin">float</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">budgets</span><span class="token punctuation" style="color:#393A34">[</span><span class="token builtin">str</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">current_month</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f&quot;Warning: Budget exceeded! (Budget: $</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">budgets</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">[</span><span class="token string-interpolation interpolation builtin">str</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">(</span><span class="token string-interpolation interpolation">current_month</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">)</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">]</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">, Spent: $</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">monthly_expenses</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">)&quot;</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<ul>
<li>Compares monthly total against budget</li>
<li>Prints warning if budget is exceeded</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="success-message">Success Message<a href="#success-message" class="hash-link" aria-label="Direct link to Success Message" title="Direct link to Success Message">​</a></h4>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f&quot;Expense added (ID: </span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">new_id</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">)&quot;</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<ul>
<li>Provides user feedback confirming the addition</li>
<li>Includes the new expense ID for reference</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="key-concepts-illustrated">Key Concepts Illustrated<a href="#key-concepts-illustrated" class="hash-link" aria-label="Direct link to Key Concepts Illustrated" title="Direct link to Key Concepts Illustrated">​</a></h4>
<ol>
<li>
<p><strong>Data Generation</strong>:</p>
<ul>
<li>Auto-generating IDs</li>
<li>Capturing current date</li>
<li>Type conversion (string to float)</li>
</ul>
</li>
<li>
<p><strong>Data Validation</strong>:</p>
<ul>
<li>Implicit through type conversion</li>
<li>Could be enhanced with more validation</li>
</ul>
</li>
<li>
<p><strong>Business Logic</strong>:</p>
<ul>
<li>Budget tracking</li>
<li>Monthly expense calculation</li>
</ul>
</li>
<li>
<p><strong>User Feedback</strong>:</p>
<ul>
<li>Success confirmation</li>
<li>Warning messages</li>
</ul>
</li>
</ol>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="example-usage-flow">Example Usage Flow<a href="#example-usage-flow" class="hash-link" aria-label="Direct link to Example Usage Flow" title="Direct link to Example Usage Flow">​</a></h4>
<ol>
<li>
<p>User enters:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">python expense_tracker.py add --description &quot;Dinner&quot; --amount 25.50 --category Food</span><br></span></code></pre></div></div>
</li>
<li>
<p>Program:</p>
<ul>
<li>Creates new expense with ID, today&#x27;s date, and provided details</li>
<li>Saves it to the JSON file</li>
<li>Checks if this puts user over budget</li>
<li>Returns success message with new ID</li>
</ul>
</li>
</ol>
<p>This function nicely combines data handling, business logic, and user feedback to create a complete feature for adding expenses.</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="step-5-listing-expenses"><strong>Step 5: Listing Expenses</strong><a href="#step-5-listing-expenses" class="hash-link" aria-label="Direct link to step-5-listing-expenses" title="Direct link to step-5-listing-expenses">​</a></h2>
<p>Let&#x27;s break down this function that displays expenses in a clean, tabular format, with optional category filtering.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="function-definition-and-docstring-1">Function Definition and Docstring<a href="#function-definition-and-docstring-1" class="hash-link" aria-label="Direct link to Function Definition and Docstring" title="Direct link to Function Definition and Docstring">​</a></h4>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">list_expenses</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">args</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token triple-quoted-string string" style="color:#e3116c">&quot;&quot;&quot;List all expenses, optionally filtered by category&quot;&quot;&quot;</span><br></span></code></pre></div></div>
<ul>
<li><code>def list_expenses(args):</code> declares the function that takes <code>args</code> parameter</li>
<li>The docstring explains it shows all expenses with optional category filtering</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="loading-expenses">Loading Expenses<a href="#loading-expenses" class="hash-link" aria-label="Direct link to Loading Expenses" title="Direct link to Loading Expenses">​</a></h4>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">expenses </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> load_expenses</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<ul>
<li>Calls <code>load_expenses()</code> to get all expenses from the JSON file</li>
<li>Returns a list of expense dictionaries or empty list if no expenses exist</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="handling-empty-expenses">Handling Empty Expenses<a href="#handling-empty-expenses" class="hash-link" aria-label="Direct link to Handling Empty Expenses" title="Direct link to Handling Empty Expenses">​</a></h4>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">not</span><span class="token plain"> expenses</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;No expenses found.&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><br></span></code></pre></div></div>
<ul>
<li>Checks if expenses list is empty</li>
<li>If empty, prints message and exits function early with <code>return</code></li>
<li>This prevents showing an empty table</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="category-filtering">Category Filtering<a href="#category-filtering" class="hash-link" aria-label="Direct link to Category Filtering" title="Direct link to Category Filtering">​</a></h4>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> args</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">category</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Filter by category if provided</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    expenses </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">e </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> e </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> expenses </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;category&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> args</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">category</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">not</span><span class="token plain"> expenses</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f&quot;No expenses in category &#x27;</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">args</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">.</span><span class="token string-interpolation interpolation">category</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">&#x27;.&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><br></span></code></pre></div></div>
<ol>
<li>Checks if user provided a category filter (<code>args.category</code>)</li>
<li>Uses list comprehension to filter expenses:<!-- -->
<ul>
<li><code>[e for e in expenses if e[&quot;category&quot;] == args.category]</code></li>
<li>Creates new list with only matching expenses</li>
</ul>
</li>
<li>If filtered list is empty, shows message and exits</li>
</ol>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="printing-the-table-header">Printing the Table Header<a href="#printing-the-table-header" class="hash-link" aria-label="Direct link to Printing the Table Header" title="Direct link to Printing the Table Header">​</a></h4>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f&quot;</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation string" style="color:#e3116c">&#x27;ID&#x27;</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">:</span><span class="token string-interpolation interpolation format-spec">&lt;5</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c"> </span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation string" style="color:#e3116c">&#x27;Date&#x27;</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">:</span><span class="token string-interpolation interpolation format-spec">&lt;12</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c"> </span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation string" style="color:#e3116c">&#x27;Description&#x27;</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">:</span><span class="token string-interpolation interpolation format-spec">&lt;20</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c"> </span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation string" style="color:#e3116c">&#x27;Amount&#x27;</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">:</span><span class="token string-interpolation interpolation format-spec">&lt;10</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c"> </span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation string" style="color:#e3116c">&#x27;Category&#x27;</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">:</span><span class="token string-interpolation interpolation format-spec">&lt;15</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;-&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">65</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<ul>
<li>Creates formatted table header using f-strings with fixed widths:<!-- -->
<ul>
<li><code>:&lt;5</code> means left-aligned, 5 characters wide</li>
<li>Columns for ID, Date, Description, Amount, Category</li>
</ul>
</li>
<li>Prints divider line of 65 hyphens</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="printing-expense-rows">Printing Expense Rows<a href="#printing-expense-rows" class="hash-link" aria-label="Direct link to Printing Expense Rows" title="Direct link to Printing Expense Rows">​</a></h4>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> expense </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> expenses</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f&quot;</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">expense</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">[</span><span class="token string-interpolation interpolation string" style="color:#e3116c">&#x27;id&#x27;</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">]</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">:</span><span class="token string-interpolation interpolation format-spec">&lt;5</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c"> </span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">expense</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">[</span><span class="token string-interpolation interpolation string" style="color:#e3116c">&#x27;date&#x27;</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">]</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">:</span><span class="token string-interpolation interpolation format-spec">&lt;12</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c"> </span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">expense</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">[</span><span class="token string-interpolation interpolation string" style="color:#e3116c">&#x27;description&#x27;</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">]</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">[</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">:</span><span class="token string-interpolation interpolation number" style="color:#36acaa">18</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">]</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">:</span><span class="token string-interpolation interpolation format-spec">&lt;20</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c"> $</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">expense</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">[</span><span class="token string-interpolation interpolation string" style="color:#e3116c">&#x27;amount&#x27;</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">]</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">:</span><span class="token string-interpolation interpolation format-spec">&lt;9.2f</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c"> </span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">expense</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">[</span><span class="token string-interpolation interpolation string" style="color:#e3116c">&#x27;category&#x27;</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">]</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">[</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">:</span><span class="token string-interpolation interpolation number" style="color:#36acaa">13</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">]</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">:</span><span class="token string-interpolation interpolation format-spec">&lt;15</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">&quot;</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>For each expense, prints a formatted row:</p>
<ol>
<li><code>expense[&#x27;id&#x27;]:&lt;5</code> - ID left-aligned in 5-character space</li>
<li><code>expense[&#x27;date&#x27;]:&lt;12</code> - Date in 12-character space</li>
<li><code>expense[&#x27;description&#x27;][:18]:&lt;20</code>:<!-- -->
<ul>
<li>Takes first 18 characters of description (<code>[:18]</code>)</li>
<li>Pads to 20 characters (<code>:&lt;20</code>)</li>
</ul>
</li>
<li><code>${expense[&#x27;amount&#x27;]:&lt;9.2f}</code>:<!-- -->
<ul>
<li>Formats amount as float with 2 decimal places (<code>.2f</code>)</li>
<li>Adds dollar sign</li>
<li>Pads to 9 characters total</li>
</ul>
</li>
<li><code>expense[&#x27;category&#x27;][:13]:&lt;15</code>:<!-- -->
<ul>
<li>First 13 characters of category</li>
<li>Pads to 15 characters</li>
</ul>
</li>
</ol>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="key-features">Key Features<a href="#key-features" class="hash-link" aria-label="Direct link to Key Features" title="Direct link to Key Features">​</a></h4>
<ol>
<li>
<p><strong>Flexible Filtering</strong>:</p>
<ul>
<li>Optional category filtering</li>
<li>Clear messages when no matches found</li>
</ul>
</li>
<li>
<p><strong>Readable Formatting</strong>:</p>
<ul>
<li>Consistent column widths</li>
<li>Truncates long text fields</li>
<li>Proper number formatting</li>
</ul>
</li>
<li>
<p><strong>User Experience</strong>:</p>
<ul>
<li>Handles empty states gracefully</li>
<li>Clear visual separation with divider line</li>
<li>Aligned columns for easy scanning</li>
</ul>
</li>
</ol>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="example-output">Example Output<a href="#example-output" class="hash-link" aria-label="Direct link to Example Output" title="Direct link to Example Output">​</a></h4>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ID    Date        Description          Amount    Category       </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-----------------------------------------------------------------</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1     2023-05-01  Groceries           $45.23    Food          </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2     2023-05-02  Movie tickets       $28.50    Entertainment</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">3     2023-05-03  Gas bill            $120.75   Utilities     </span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="why-this-matters">Why This Matters<a href="#why-this-matters" class="hash-link" aria-label="Direct link to Why This Matters" title="Direct link to Why This Matters">​</a></h4>
<ol>
<li>
<p><strong>Data Presentation</strong>:</p>
<ul>
<li>Raw data is transformed into human-readable format</li>
<li>Consistent formatting makes it easier to understand</li>
</ul>
</li>
<li>
<p><strong>Defensive Programming</strong>:</p>
<ul>
<li>Handles edge cases (no expenses, no matches)</li>
<li>Prevents errors with proper type handling</li>
</ul>
</li>
<li>
<p><strong>Customizability</strong>:</p>
<ul>
<li>Easy to modify column widths</li>
<li>Simple to add new fields if needed</li>
</ul>
</li>
</ol>
<p>This function demonstrates important concepts like data filtering, string formatting, and user interface design in a CLI application.</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="step-6a-deleting--updating-expenses"><strong>Step 6a: Deleting &amp; Updating Expenses</strong><a href="#step-6a-deleting--updating-expenses" class="hash-link" aria-label="Direct link to step-6a-deleting--updating-expenses" title="Direct link to step-6a-deleting--updating-expenses">​</a></h2>
<p>Let&#x27;s break down this function that handles deleting expenses from our expense tracker application.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="function-definition-and-docstring-2">Function Definition and Docstring<a href="#function-definition-and-docstring-2" class="hash-link" aria-label="Direct link to Function Definition and Docstring" title="Direct link to Function Definition and Docstring">​</a></h4>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">delete_expense</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">args</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token triple-quoted-string string" style="color:#e3116c">&quot;&quot;&quot;Delete an expense by ID&quot;&quot;&quot;</span><br></span></code></pre></div></div>
<ul>
<li><code>def delete_expense(args):</code> declares the function that takes <code>args</code> as a parameter</li>
<li>The docstring <code>&quot;&quot;&quot;Delete an expense by ID&quot;&quot;&quot;</code> clearly explains the function&#x27;s purpose</li>
<li><code>args</code> will contain the command-line arguments, including the ID to delete</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="loading-existing-expenses-1">Loading Existing Expenses<a href="#loading-existing-expenses-1" class="hash-link" aria-label="Direct link to Loading Existing Expenses" title="Direct link to Loading Existing Expenses">​</a></h4>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">expenses </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> load_expenses</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<ul>
<li>Calls the <code>load_expenses()</code> function we examined earlier</li>
<li>Loads all existing expenses from the JSON file into memory</li>
<li>Returns a list of expense dictionaries</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="searching-for-the-expense-to-delete">Searching for the Expense to Delete<a href="#searching-for-the-expense-to-delete" class="hash-link" aria-label="Direct link to Searching for the Expense to Delete" title="Direct link to Searching for the Expense to Delete">​</a></h4>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> i</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> expense </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token builtin">enumerate</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">expenses</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><br></span></code></pre></div></div>
<ul>
<li>Uses <code>enumerate()</code> to loop through expenses while keeping track of:<!-- -->
<ul>
<li><code>i</code>: The index position in the list</li>
<li><code>expense</code>: The actual expense dictionary</li>
</ul>
</li>
<li>This gives us both the item and its position, which we&#x27;ll need for deletion</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="checking-for-matching-id">Checking for Matching ID<a href="#checking-for-matching-id" class="hash-link" aria-label="Direct link to Checking for Matching ID" title="Direct link to Checking for Matching ID">​</a></h4>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> expense</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;id&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> args</span><span class="token punctuation" style="color:#393A34">.</span><span class="token builtin">id</span><span class="token punctuation" style="color:#393A34">:</span><br></span></code></pre></div></div>
<ul>
<li>Compares each expense&#x27;s ID with the ID provided by the user (<code>args.id</code>)</li>
<li>When a match is found, we&#x27;ll delete this expense</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="deleting-the-expense">Deleting the Expense<a href="#deleting-the-expense" class="hash-link" aria-label="Direct link to Deleting the Expense" title="Direct link to Deleting the Expense">​</a></h4>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">del</span><span class="token plain"> expenses</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">i</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre></div></div>
<ul>
<li><code>del</code> removes the item at position <code>i</code> from the expenses list</li>
<li>This modifies our in-memory list of expenses</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="saving-the-updated-list">Saving the Updated List<a href="#saving-the-updated-list" class="hash-link" aria-label="Direct link to Saving the Updated List" title="Direct link to Saving the Updated List">​</a></h4>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">save_expenses</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">expenses</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<ul>
<li>Calls <code>save_expenses()</code> to write the modified list back to the JSON file</li>
<li>This persists the deletion permanently</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="success-feedback">Success Feedback<a href="#success-feedback" class="hash-link" aria-label="Direct link to Success Feedback" title="Direct link to Success Feedback">​</a></h4>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Expense deleted successfully&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">return</span><br></span></code></pre></div></div>
<ul>
<li>Informs the user the deletion was successful</li>
<li><code>return</code> exits the function immediately after deletion</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="handling-non-existent-ids">Handling Non-Existent IDs<a href="#handling-non-existent-ids" class="hash-link" aria-label="Direct link to Handling Non-Existent IDs" title="Direct link to Handling Non-Existent IDs">​</a></h4>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f&quot;Error: Expense ID </span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">args</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">.</span><span class="token string-interpolation interpolation builtin">id</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c"> not found.&quot;</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<ul>
<li>If loop completes without finding a matching ID:<!-- -->
<ul>
<li>Prints an error message showing the ID that wasn&#x27;t found</li>
<li>Function ends implicitly (no explicit return needed)</li>
</ul>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="key-concepts-illustrated-1">Key Concepts Illustrated<a href="#key-concepts-illustrated-1" class="hash-link" aria-label="Direct link to Key Concepts Illustrated" title="Direct link to Key Concepts Illustrated">​</a></h4>
<ol>
<li>
<p><strong>List Modification</strong>:</p>
<ul>
<li>Using <code>del</code> to remove items from a list by index</li>
<li>Need to save changes back to file</li>
</ul>
</li>
<li>
<p><strong>Search Pattern</strong>:</p>
<ul>
<li>Common iteration pattern to find and modify specific items</li>
<li>Early return when item is found and processed</li>
</ul>
</li>
<li>
<p><strong>User Feedback</strong>:</p>
<ul>
<li>Success and error messages</li>
<li>Clear communication about operation results</li>
</ul>
</li>
</ol>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="example-usage-flow-1">Example Usage Flow<a href="#example-usage-flow-1" class="hash-link" aria-label="Direct link to Example Usage Flow" title="Direct link to Example Usage Flow">​</a></h4>
<ol>
<li>
<p>User enters:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">python expense_tracker.py delete --id 3</span><br></span></code></pre></div></div>
</li>
<li>
<p>Program:</p>
<ul>
<li>Loads all expenses</li>
<li>Searches for expense with ID 3</li>
<li>If found:<!-- -->
<ul>
<li>Deletes it from the list</li>
<li>Saves updated list</li>
<li>Prints success message</li>
</ul>
</li>
<li>If not found:<!-- -->
<ul>
<li>Prints error message</li>
</ul>
</li>
</ul>
</li>
</ol>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="why-this-matters-1">Why This Matters<a href="#why-this-matters-1" class="hash-link" aria-label="Direct link to Why This Matters" title="Direct link to Why This Matters">​</a></h4>
<ol>
<li>
<p><strong>Data Integrity</strong>:</p>
<ul>
<li>Carefully modifies data</li>
<li>Ensures changes are saved properly</li>
</ul>
</li>
<li>
<p><strong>Error Handling</strong>:</p>
<ul>
<li>Gracefully handles missing items</li>
<li>Provides clear feedback</li>
</ul>
</li>
<li>
<p><strong>Common Pattern</strong>:</p>
<ul>
<li>This search-and-modify pattern appears in many applications</li>
<li>Understanding it helps with similar functions</li>
</ul>
</li>
</ol>
<p>This function demonstrates a clean, straightforward way to handle deletion operations in a CLI application while maintaining data integrity and providing good user feedback.</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="step-6b-updating-expenses"><strong>Step 6b: Updating Expenses</strong><a href="#step-6b-updating-expenses" class="hash-link" aria-label="Direct link to step-6b-updating-expenses" title="Direct link to step-6b-updating-expenses">​</a></h2>
<p>Let&#x27;s break down this function that handles updating existing expenses in our expense tracker application.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="function-definition-and-docstring-3">Function Definition and Docstring<a href="#function-definition-and-docstring-3" class="hash-link" aria-label="Direct link to Function Definition and Docstring" title="Direct link to Function Definition and Docstring">​</a></h4>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">update_expense</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">args</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token triple-quoted-string string" style="color:#e3116c">&quot;&quot;&quot;Update an existing expense&quot;&quot;&quot;</span><br></span></code></pre></div></div>
<ul>
<li><code>def update_expense(args):</code> declares the function that takes <code>args</code> as a parameter</li>
<li>The docstring <code>&quot;&quot;&quot;Update an existing expense&quot;&quot;&quot;</code> explains the function&#x27;s purpose</li>
<li><code>args</code> contains the command-line arguments including the ID and fields to update</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="loading-existing-expenses-2">Loading Existing Expenses<a href="#loading-existing-expenses-2" class="hash-link" aria-label="Direct link to Loading Existing Expenses" title="Direct link to Loading Existing Expenses">​</a></h4>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">expenses </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> load_expenses</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<ul>
<li>Calls <code>load_expenses()</code> to get all current expenses from the JSON file</li>
<li>Returns a list of expense dictionaries that we can modify</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="searching-for-the-expense-to-update">Searching for the Expense to Update<a href="#searching-for-the-expense-to-update" class="hash-link" aria-label="Direct link to Searching for the Expense to Update" title="Direct link to Searching for the Expense to Update">​</a></h4>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> expense </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> expenses</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> expense</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;id&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> args</span><span class="token punctuation" style="color:#393A34">.</span><span class="token builtin">id</span><span class="token punctuation" style="color:#393A34">:</span><br></span></code></pre></div></div>
<ul>
<li>Loops through each expense in the expenses list</li>
<li>Checks if the expense&#x27;s ID matches the ID provided by the user (<code>args.id</code>)</li>
<li>When a match is found, we&#x27;ll update this expense</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="updating-expense-fields">Updating Expense Fields<a href="#updating-expense-fields" class="hash-link" aria-label="Direct link to Updating Expense Fields" title="Direct link to Updating Expense Fields">​</a></h4>
<p>The function provides conditional updates for each field:</p>
<h6 class="anchor anchorWithStickyNavbar_LWe7" id="updating-description">Updating Description<a href="#updating-description" class="hash-link" aria-label="Direct link to Updating Description" title="Direct link to Updating Description">​</a></h6>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> args</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">description</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    expense</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;description&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> args</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">description</span><br></span></code></pre></div></div>
<ul>
<li>Only updates if user provided a new description (<code>args.description</code> exists)</li>
<li>Updates the expense&#x27;s description field with the new value</li>
</ul>
<h6 class="anchor anchorWithStickyNavbar_LWe7" id="updating-amount">Updating Amount<a href="#updating-amount" class="hash-link" aria-label="Direct link to Updating Amount" title="Direct link to Updating Amount">​</a></h6>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> args</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">amount</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    expense</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;amount&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token builtin">float</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">args</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">amount</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<ul>
<li>Only updates if user provided a new amount</li>
<li>Converts the amount string to a float before storing</li>
<li>Ensures numeric value is stored in the expense record</li>
</ul>
<h6 class="anchor anchorWithStickyNavbar_LWe7" id="updating-category">Updating Category<a href="#updating-category" class="hash-link" aria-label="Direct link to Updating Category" title="Direct link to Updating Category">​</a></h6>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> args</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">category</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    expense</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;category&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> args</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">category</span><br></span></code></pre></div></div>
<ul>
<li>Only updates if user provided a new category</li>
<li>Updates the expense&#x27;s category field with the new value</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="saving-changes">Saving Changes<a href="#saving-changes" class="hash-link" aria-label="Direct link to Saving Changes" title="Direct link to Saving Changes">​</a></h4>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">save_expenses</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">expenses</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<ul>
<li>After making updates, calls <code>save_expenses()</code> to write changes back to file</li>
<li>This persists the updates permanently</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="success-feedback-1">Success Feedback<a href="#success-feedback-1" class="hash-link" aria-label="Direct link to Success Feedback" title="Direct link to Success Feedback">​</a></h4>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Expense updated successfully&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">return</span><br></span></code></pre></div></div>
<ul>
<li>Informs the user the update was successful</li>
<li><code>return</code> exits the function immediately after successful update</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="handling-non-existent-ids-1">Handling Non-Existent IDs<a href="#handling-non-existent-ids-1" class="hash-link" aria-label="Direct link to Handling Non-Existent IDs" title="Direct link to Handling Non-Existent IDs">​</a></h4>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f&quot;Error: Expense ID </span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">args</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">.</span><span class="token string-interpolation interpolation builtin">id</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c"> not found.&quot;</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<ul>
<li>If loop completes without finding a matching ID:<!-- -->
<ul>
<li>Prints an error message showing the ID that wasn&#x27;t found</li>
<li>Function ends (no explicit return needed)</li>
</ul>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="key-features-1">Key Features<a href="#key-features-1" class="hash-link" aria-label="Direct link to Key Features" title="Direct link to Key Features">​</a></h4>
<ol>
<li>
<p><strong>Selective Updates</strong>:</p>
<ul>
<li>Only modifies fields that were provided</li>
<li>Leaves other fields unchanged</li>
</ul>
</li>
<li>
<p><strong>Type Safety</strong>:</p>
<ul>
<li>Converts amount to float explicitly</li>
<li>Ensures numeric values are stored properly</li>
</ul>
</li>
<li>
<p><strong>Error Handling</strong>:</p>
<ul>
<li>Clear feedback when expense isn&#x27;t found</li>
<li>Success confirmation when update works</li>
</ul>
</li>
</ol>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="example-usage-flow-2">Example Usage Flow<a href="#example-usage-flow-2" class="hash-link" aria-label="Direct link to Example Usage Flow" title="Direct link to Example Usage Flow">​</a></h4>
<ol>
<li>
<p>User enters:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">python expense_tracker.py update --id 3 --amount 15.99 --category Food</span><br></span></code></pre></div></div>
</li>
<li>
<p>Program:</p>
<ul>
<li>Loads all expenses</li>
<li>Finds expense with ID 3</li>
<li>Updates amount and category (but not description)</li>
<li>Saves changes</li>
<li>Prints success message</li>
</ul>
</li>
</ol>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="why-this-matters-2">Why This Matters<a href="#why-this-matters-2" class="hash-link" aria-label="Direct link to Why This Matters" title="Direct link to Why This Matters">​</a></h4>
<ol>
<li>
<p><strong>Partial Updates</strong>:</p>
<ul>
<li>More flexible than requiring all fields</li>
<li>Better user experience</li>
</ul>
</li>
<li>
<p><strong>Data Integrity</strong>:</p>
<ul>
<li>Type conversion ensures clean data</li>
<li>Changes are persisted properly</li>
</ul>
</li>
<li>
<p><strong>Common Pattern</strong>:</p>
<ul>
<li>This update pattern appears in many CRUD applications</li>
<li>Understanding it helps with similar functions</li>
</ul>
</li>
</ol>
<p>This function demonstrates how to handle selective updates in a clean, maintainable way while providing good user feedback and maintaining data integrity.</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="step-7a-budget-tracking--reports"><strong>Step 7a: Budget Tracking &amp; Reports</strong><a href="#step-7a-budget-tracking--reports" class="hash-link" aria-label="Direct link to step-7a-budget-tracking--reports" title="Direct link to step-7a-budget-tracking--reports">​</a></h2>
<p>Let&#x27;s break down this function that handles setting monthly budgets in our expense tracker application.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="function-definition-and-docstring-4">Function Definition and Docstring<a href="#function-definition-and-docstring-4" class="hash-link" aria-label="Direct link to Function Definition and Docstring" title="Direct link to Function Definition and Docstring">​</a></h4>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">set_budget</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">args</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token triple-quoted-string string" style="color:#e3116c">&quot;&quot;&quot;Set budget for a specific month&quot;&quot;&quot;</span><br></span></code></pre></div></div>
<ul>
<li><code>def set_budget(args):</code> declares the function that takes <code>args</code> as a parameter</li>
<li>The docstring <code>&quot;&quot;&quot;Set budget for a specific month&quot;&quot;&quot;</code> explains its purpose</li>
<li><code>args</code> will contain the command-line arguments (month and amount)</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="loading-existing-budgets">Loading Existing Budgets<a href="#loading-existing-budgets" class="hash-link" aria-label="Direct link to Loading Existing Budgets" title="Direct link to Loading Existing Budgets">​</a></h4>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">budgets </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> load_budgets</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<ul>
<li>Calls <code>load_budgets()</code> to get current budget data from the JSON file</li>
<li>Returns a dictionary where:<!-- -->
<ul>
<li>Keys are month numbers as strings (e.g., &quot;1&quot; for January)</li>
<li>Values are the budget amounts for each month</li>
</ul>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="updating-the-budget">Updating the Budget<a href="#updating-the-budget" class="hash-link" aria-label="Direct link to Updating the Budget" title="Direct link to Updating the Budget">​</a></h4>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">budgets</span><span class="token punctuation" style="color:#393A34">[</span><span class="token builtin">str</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">args</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">month</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token builtin">float</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">args</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">amount</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<ol>
<li><code>str(args.month)</code> converts the month number to string (dictionary keys are strings)</li>
<li><code>float(args.amount)</code> ensures the amount is stored as a number</li>
<li>Creates or updates the budget entry for the specified month</li>
</ol>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="saving-the-updated-budgets">Saving the Updated Budgets<a href="#saving-the-updated-budgets" class="hash-link" aria-label="Direct link to Saving the Updated Budgets" title="Direct link to Saving the Updated Budgets">​</a></h4>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">save_budgets</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">budgets</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<ul>
<li>Calls <code>save_budgets()</code> to write the modified dictionary back to the JSON file</li>
<li>Persists the new budget amount permanently</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="getting-month-name">Getting Month Name<a href="#getting-month-name" class="hash-link" aria-label="Direct link to Getting Month Name" title="Direct link to Getting Month Name">​</a></h4>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">month_name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> datetime</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">strptime</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f&quot;2024-</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">args</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">.</span><span class="token string-interpolation interpolation">month</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">-01&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;%Y-%m-%d&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">strftime</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;%B&quot;</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<ol>
<li>Creates a date string in format &quot;YYYY-MM-DD&quot; using:<!-- -->
<ul>
<li>Fixed year 2024 (could be any year)</li>
<li>User-provided month number</li>
<li>Fixed day &quot;01&quot; (we just need the month)</li>
</ul>
</li>
<li><code>strptime()</code> parses this string into a datetime object</li>
<li><code>strftime(&quot;%B&quot;)</code> formats the datetime to get full month name (e.g., &quot;January&quot;)</li>
</ol>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="user-feedback">User Feedback<a href="#user-feedback" class="hash-link" aria-label="Direct link to User Feedback" title="Direct link to User Feedback">​</a></h4>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f&quot;Budget for </span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">month_name</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c"> set to $</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">args</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">.</span><span class="token string-interpolation interpolation">amount</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">&quot;</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<ul>
<li>Provides clear confirmation of the action taken</li>
<li>Shows:<!-- -->
<ul>
<li>Month name (e.g., &quot;March&quot; instead of just &quot;3&quot;)</li>
<li>The budget amount that was set</li>
</ul>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="key-features-2">Key Features<a href="#key-features-2" class="hash-link" aria-label="Direct link to Key Features" title="Direct link to Key Features">​</a></h4>
<ol>
<li>
<p><strong>Data Structure</strong>:</p>
<ul>
<li>Uses dictionary for budgets (month numbers as keys)</li>
<li>Easy to lookup and modify specific months</li>
</ul>
</li>
<li>
<p><strong>Type Safety</strong>:</p>
<ul>
<li>Ensures month is stored as string key</li>
<li>Converts amount to float for proper numeric storage</li>
</ul>
</li>
<li>
<p><strong>User Experience</strong>:</p>
<ul>
<li>Shows friendly month names in output</li>
<li>Clear confirmation message</li>
</ul>
</li>
</ol>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="example-usage-flow-3">Example Usage Flow<a href="#example-usage-flow-3" class="hash-link" aria-label="Direct link to Example Usage Flow" title="Direct link to Example Usage Flow">​</a></h4>
<ol>
<li>
<p>User enters:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">python expense_tracker.py set-budget --month 3 --amount 500</span><br></span></code></pre></div></div>
</li>
<li>
<p>Program:</p>
<ul>
<li>Loads current budgets</li>
<li>Sets March (month 3) budget to $500</li>
<li>Saves the update</li>
<li>Prints: &quot;Budget for March set to $500&quot;</li>
</ul>
</li>
</ol>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="why-this-matters-3">Why This Matters<a href="#why-this-matters-3" class="hash-link" aria-label="Direct link to Why This Matters" title="Direct link to Why This Matters">​</a></h4>
<ol>
<li>
<p><strong>Data Organization</strong>:</p>
<ul>
<li>Dictionary is perfect for month-based lookup</li>
<li>Simple key-value relationship</li>
</ul>
</li>
<li>
<p><strong>Presentation</strong>:</p>
<ul>
<li>Converts numeric month to readable name</li>
<li>Better than showing raw numbers to users</li>
</ul>
</li>
<li>
<p><strong>Maintainability</strong>:</p>
<ul>
<li>Clear separation of concerns</li>
<li>Each step does one specific thing</li>
</ul>
</li>
</ol>
<p>This function demonstrates how to handle simple configuration updates while providing good user feedback and maintaining clean data organization. The month name conversion is particularly helpful for making the interface more user-friendly.</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="step-7b-budget-tracking--reports"><strong>Step 7b: Budget Tracking &amp; Reports</strong><a href="#step-7b-budget-tracking--reports" class="hash-link" aria-label="Direct link to step-7b-budget-tracking--reports" title="Direct link to step-7b-budget-tracking--reports">​</a></h2>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="function-definition">Function Definition<a href="#function-definition" class="hash-link" aria-label="Direct link to Function Definition" title="Direct link to Function Definition">​</a></h4>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">summary</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">args</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><br></span></code></pre></div></div>
<ul>
<li><strong>What it does</strong>: Declares a function named <code>summary</code> that takes <code>args</code> as input.</li>
<li><strong>Why it matters</strong>: <code>args</code> will contain all the command-line arguments passed by the user (like <code>--month</code>).</li>
</ul>
<hr>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="docstring">Docstring<a href="#docstring" class="hash-link" aria-label="Direct link to Docstring" title="Direct link to Docstring">​</a></h4>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token triple-quoted-string string" style="color:#e3116c">&quot;&quot;&quot;Show summary of expenses, optionally for a specific month&quot;&quot;&quot;</span><br></span></code></pre></div></div>
<ul>
<li><strong>What it does</strong>: A documentation string explaining the function&#x27;s purpose.</li>
<li><strong>Why it matters</strong>: Helps other developers (or your future self) understand what the function does.</li>
</ul>
<hr>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="line-3-load-expenses">Line 3: Load Expenses<a href="#line-3-load-expenses" class="hash-link" aria-label="Direct link to Line 3: Load Expenses" title="Direct link to Line 3: Load Expenses">​</a></h4>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    expenses </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> load_expenses</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<ul>
<li><strong>What it does</strong>: Calls <code>load_expenses()</code> to fetch all expenses from <code>expenses.json</code>.</li>
<li><strong>Why it matters</strong>: This loads existing data into memory so we can analyze it.</li>
</ul>
<hr>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="handle-empty-expenses">Handle Empty Expenses<a href="#handle-empty-expenses" class="hash-link" aria-label="Direct link to Handle Empty Expenses" title="Direct link to Handle Empty Expenses">​</a></h4>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">not</span><span class="token plain"> expenses</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;No expenses found.&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><br></span></code></pre></div></div>
<ul>
<li><strong>What it does</strong>: Checks if the expenses list is empty. If true:<!-- -->
<ul>
<li>Prints a message.</li>
<li>Exits the function early with <code>return</code>.</li>
</ul>
</li>
<li><strong>Why it matters</strong>: Prevents errors and gives users feedback if there&#x27;s no data.</li>
</ul>
<hr>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="check-for-month-filter">Check for Month Filter<a href="#check-for-month-filter" class="hash-link" aria-label="Direct link to Check for Month Filter" title="Direct link to Check for Month Filter">​</a></h4>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> args</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">month</span><span class="token punctuation" style="color:#393A34">:</span><br></span></code></pre></div></div>
<ul>
<li><strong>What it does</strong>: Checks if the user provided a <code>--month</code> argument (e.g., <code>--month 3</code> for March).</li>
<li><strong>Why it matters</strong>: Determines whether to show a <em>monthly</em> or <em>overall</em> summary.</li>
</ul>
<hr>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="filter-monthly-expenses">Filter Monthly Expenses<a href="#filter-monthly-expenses" class="hash-link" aria-label="Direct link to Filter Monthly Expenses" title="Direct link to Filter Monthly Expenses">​</a></h4>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        month_expenses </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token builtin">float</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">e</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;amount&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> e </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> expenses </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> datetime</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">strptime</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">e</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;date&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;%Y-%m-%d&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">month </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> args</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">month</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre></div></div>
<ul>
<li><strong>What it does</strong>:<!-- -->
<ol>
<li><strong>List Comprehension</strong>: Loops through all expenses (<code>for e in expenses</code>).</li>
<li><strong>Date Parsing</strong>: Converts each expense&#x27;s date string (e.g., <code>&quot;2024-03-15&quot;</code>) into a <code>datetime</code> object.</li>
<li><strong>Month Check</strong>: Only includes expenses where the month matches <code>args.month</code>.</li>
<li><strong>Amount Conversion</strong>: Converts the amount from string to <code>float</code> (e.g., <code>&quot;20.50&quot;</code> → <code>20.50</code>).</li>
</ol>
</li>
<li><strong>Why it matters</strong>: Isolates expenses for the requested month and prepares them for calculations.</li>
</ul>
<hr>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="calculate-monthly-total">Calculate Monthly Total<a href="#calculate-monthly-total" class="hash-link" aria-label="Direct link to Calculate Monthly Total" title="Direct link to Calculate Monthly Total">​</a></h4>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        total </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token builtin">sum</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">month_expenses</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<ul>
<li><strong>What it does</strong>: Sums all amounts in <code>month_expenses</code>.</li>
<li><strong>Why it matters</strong>: Gives the total spending for the specified month.</li>
</ul>
<hr>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="get-month-name">Get Month Name<a href="#get-month-name" class="hash-link" aria-label="Direct link to Get Month Name" title="Direct link to Get Month Name">​</a></h4>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        month_name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> datetime</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">strptime</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f&quot;2024-</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">args</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">.</span><span class="token string-interpolation interpolation">month</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">-01&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;%Y-%m-%d&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">strftime</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;%B&quot;</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<ul>
<li><strong>What it does</strong>:<!-- -->
<ol>
<li>Creates a date string (e.g., <code>&quot;2024-3-01&quot;</code> for March).</li>
<li>Parses it into a <code>datetime</code> object.</li>
<li>Formats it to return the full month name (e.g., <code>&quot;March&quot;</code>).</li>
</ol>
</li>
<li><strong>Why it matters</strong>: Makes the output user-friendly (showing &quot;March&quot; instead of &quot;3&quot;).</li>
</ul>
<hr>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="line-15-print-monthly-summary">Line 15: Print Monthly Summary<a href="#line-15-print-monthly-summary" class="hash-link" aria-label="Direct link to Line 15: Print Monthly Summary" title="Direct link to Line 15: Print Monthly Summary">​</a></h4>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f&quot;Total expenses for </span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">month_name</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">: $</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">total</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">:</span><span class="token string-interpolation interpolation format-spec">.2f</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">&quot;</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<ul>
<li><strong>What it does</strong>: Prints the total with the month name (e.g., <code>&quot;Total expenses for March: $475.50&quot;</code>).</li>
<li><strong>Why it matters</strong>: <code>.2f</code> ensures the amount shows 2 decimal places (standard for currency).</li>
</ul>
<hr>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="budget-comparison">Budget Comparison<a href="#budget-comparison" class="hash-link" aria-label="Direct link to Budget Comparison" title="Direct link to Budget Comparison">​</a></h4>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        budgets </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> load_budgets</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">args</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">month</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> budgets</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            budget </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token builtin">float</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">budgets</span><span class="token punctuation" style="color:#393A34">[</span><span class="token builtin">str</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">args</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">month</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f&quot;Budget: $</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">budget</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">:</span><span class="token string-interpolation interpolation format-spec">.2f</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> total </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> budget</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f&quot;Overspent by $</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">total </span><span class="token string-interpolation interpolation operator" style="color:#393A34">-</span><span class="token string-interpolation interpolation"> budget</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">:</span><span class="token string-interpolation interpolation format-spec">.2f</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">else</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f&quot;Remaining budget: $</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">budget </span><span class="token string-interpolation interpolation operator" style="color:#393A34">-</span><span class="token string-interpolation interpolation"> total</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">:</span><span class="token string-interpolation interpolation format-spec">.2f</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">&quot;</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<ul>
<li><strong>What it does</strong>:<!-- -->
<ol>
<li>Loads all budgets from <code>budgets.json</code>.</li>
<li>Checks if a budget exists for the specified month.</li>
<li>If found:<!-- -->
<ul>
<li>Prints the budget.</li>
<li>Compares it to the total spending:<!-- -->
<ul>
<li><strong>Overspent</strong>: If <code>total &gt; budget</code> (e.g., <code>Overspent by $120.00</code>).</li>
<li><strong>Remaining</strong>: If under budget (e.g., <code>Remaining budget: $24.50</code>).</li>
</ul>
</li>
</ul>
</li>
</ol>
</li>
<li><strong>Why it matters</strong>: Helps users track their spending against goals.</li>
</ul>
<hr>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="full-summary-no-month-filter">Full Summary (No Month Filter)<a href="#full-summary-no-month-filter" class="hash-link" aria-label="Direct link to Full Summary (No Month Filter)" title="Direct link to Full Summary (No Month Filter)">​</a></h4>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">else</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        total </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token builtin">sum</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">float</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">e</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;amount&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> e </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> expenses</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f&quot;Total expenses: $</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">total</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">:</span><span class="token string-interpolation interpolation format-spec">.2f</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">&quot;</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<ul>
<li><strong>What it does</strong>:<!-- -->
<ul>
<li>If no <code>--month</code> is provided, sums <em>all</em> expenses.</li>
<li>Prints the grand total (e.g., <code>Total expenses: $2480.75</code>).</li>
</ul>
</li>
<li><strong>Why it matters</strong>: Gives a complete financial overview when users don&#x27;t specify a month.</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="step-8a-exporting--category-reports"><strong>Step 8a: Exporting &amp; Category Reports</strong><a href="#step-8a-exporting--category-reports" class="hash-link" aria-label="Direct link to step-8a-exporting--category-reports" title="Direct link to step-8a-exporting--category-reports">​</a></h2>
<p>This function exports expense data to a CSV file, which can be opened in spreadsheet software like Excel. Let&#x27;s break it down:</p>
<hr>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="1-function-definition--docstring"><strong>1. Function Definition &amp; Docstring</strong><a href="#1-function-definition--docstring" class="hash-link" aria-label="Direct link to 1-function-definition--docstring" title="Direct link to 1-function-definition--docstring">​</a></h4>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">export_to_csv</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">args</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token triple-quoted-string string" style="color:#e3116c">&quot;&quot;&quot;Export expenses to CSV&quot;&quot;&quot;</span><br></span></code></pre></div></div>
<ul>
<li><strong>What it does</strong>:<!-- -->
<ul>
<li>Defines the function <code>export_to_csv</code> that takes <code>args</code> (command-line arguments).</li>
<li>The docstring explains its purpose: exporting expenses to a CSV file.</li>
</ul>
</li>
<li><strong>Why it matters</strong>:<!-- -->
<ul>
<li>The <code>args</code> parameter will contain user inputs (like the output filename).</li>
<li>Docstrings help document code behaviour.</li>
</ul>
</li>
</ul>
<hr>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="2-load-expenses"><strong>2. Load Expenses</strong><a href="#2-load-expenses" class="hash-link" aria-label="Direct link to 2-load-expenses" title="Direct link to 2-load-expenses">​</a></h4>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    expenses </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> load_expenses</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<ul>
<li><strong>What it does</strong>:<!-- -->
<ul>
<li>Calls <code>load_expenses()</code> to fetch all expenses from <code>expenses.json</code>.</li>
<li>Returns a list of dictionaries (each representing an expense).</li>
</ul>
</li>
<li><strong>Why it matters</strong>:<!-- -->
<ul>
<li>We need the data before exporting it.</li>
</ul>
</li>
</ul>
<hr>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="3-check-for-empty-expenses"><strong>3. Check for Empty Expenses</strong><a href="#3-check-for-empty-expenses" class="hash-link" aria-label="Direct link to 3-check-for-empty-expenses" title="Direct link to 3-check-for-empty-expenses">​</a></h4>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">not</span><span class="token plain"> expenses</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;No expenses to export.&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><br></span></code></pre></div></div>
<ul>
<li><strong>What it does</strong>:<!-- -->
<ul>
<li>Checks if <code>expenses</code> is empty.</li>
<li>If empty, prints a message and exits the function (<code>return</code>).</li>
</ul>
</li>
<li><strong>Why it matters</strong>:<!-- -->
<ul>
<li>Prevents creating an empty CSV file.</li>
<li>Improves user experience with clear feedback.</li>
</ul>
</li>
</ul>
<hr>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="4-determine-filename"><strong>4. Determine Filename</strong><a href="#4-determine-filename" class="hash-link" aria-label="Direct link to 4-determine-filename" title="Direct link to 4-determine-filename">​</a></h4>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    filename </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> args</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">filename </span><span class="token keyword" style="color:#00009f">or</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;expenses_export.csv&quot;</span><br></span></code></pre></div></div>
<ul>
<li><strong>What it does</strong>:<!-- -->
<ul>
<li>If <code>args.filename</code> is provided (e.g., <code>--filename my_expenses.csv</code>), uses that.</li>
<li>Otherwise, defaults to <code>&quot;expenses_export.csv&quot;</code>.</li>
</ul>
</li>
<li><strong>Why it matters</strong>:<!-- -->
<ul>
<li>Makes the function flexible (users can customize the filename).</li>
<li>Ensures a valid filename even if none is provided.</li>
</ul>
</li>
</ul>
<hr>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="5-write-to-csv"><strong>5. Write to CSV</strong><a href="#5-write-to-csv" class="hash-link" aria-label="Direct link to 5-write-to-csv" title="Direct link to 5-write-to-csv">​</a></h4>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">with</span><span class="token plain"> </span><span class="token builtin">open</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">filename</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;w&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> newline</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> csvfile</span><span class="token punctuation" style="color:#393A34">:</span><br></span></code></pre></div></div>
<ul>
<li><strong>What it does</strong>:<!-- -->
<ul>
<li>Opens (or creates) <code>filename</code> in <strong>write mode (<code>&quot;w&quot;</code>)</strong>.</li>
<li><code>newline=&quot;&quot;</code> ensures proper line endings (avoids blank rows in CSV).</li>
</ul>
</li>
<li><strong>Why it matters</strong>:<!-- -->
<ul>
<li><code>with</code> ensures the file closes automatically after writing.</li>
<li><code>newline</code> prevents formatting issues on different OSes.</li>
</ul>
</li>
</ul>
<hr>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="6-configure-csv-writer"><strong>6. Configure CSV Writer</strong><a href="#6-configure-csv-writer" class="hash-link" aria-label="Direct link to 6-configure-csv-writer" title="Direct link to 6-configure-csv-writer">​</a></h4>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        writer </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> csv</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">DictWriter</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">csvfile</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> fieldnames</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;id&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;date&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;description&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;amount&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;category&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<ul>
<li><strong>What it does</strong>:<!-- -->
<ul>
<li>Creates a <code>DictWriter</code> object to write dictionaries as CSV rows.</li>
<li><code>fieldnames</code> defines the column headers (matches expense dictionary keys).</li>
</ul>
</li>
<li><strong>Why it matters</strong>:<!-- -->
<ul>
<li>Ensures consistent column order in the output file.</li>
</ul>
</li>
</ul>
<hr>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="7-write-headers"><strong>7. Write Headers</strong><a href="#7-write-headers" class="hash-link" aria-label="Direct link to 7-write-headers" title="Direct link to 7-write-headers">​</a></h4>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        writer</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">writeheader</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<ul>
<li><strong>What it does</strong>:<!-- -->
<ul>
<li>Writes the column headers (e.g., <code>id,date,description,amount,category</code>) as the first row.</li>
</ul>
</li>
<li><strong>Why it matters</strong>:<!-- -->
<ul>
<li>Makes the CSV file readable and structured.</li>
</ul>
</li>
</ul>
<hr>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="8-write-expense-data"><strong>8. Write Expense Data</strong><a href="#8-write-expense-data" class="hash-link" aria-label="Direct link to 8-write-expense-data" title="Direct link to 8-write-expense-data">​</a></h4>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        writer</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">writerows</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">expenses</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<ul>
<li><strong>What it does</strong>:<!-- -->
<ul>
<li>Writes all expense records to the CSV file.</li>
<li>Each expense dictionary becomes a row in the CSV.</li>
</ul>
</li>
<li><strong>Why it matters</strong>:<!-- -->
<ul>
<li>Automatically handles formatting (commas, quotes, etc.).</li>
</ul>
</li>
</ul>
<hr>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="9-success-message"><strong>9. Success Message</strong><a href="#9-success-message" class="hash-link" aria-label="Direct link to 9-success-message" title="Direct link to 9-success-message">​</a></h4>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f&quot;Exported to </span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">filename</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">&quot;</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<ul>
<li><strong>What it does</strong>:<!-- -->
<ul>
<li>Confirms successful export and shows the filename.</li>
</ul>
</li>
<li><strong>Why it matters</strong>:<!-- -->
<ul>
<li>Gives users feedback that the operation worked.</li>
</ul>
</li>
</ul>
<hr>
<h6 class="anchor anchorWithStickyNavbar_LWe7" id="example-output-csv"><strong>Example Output CSV</strong><a href="#example-output-csv" class="hash-link" aria-label="Direct link to example-output-csv" title="Direct link to example-output-csv">​</a></h6>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">id,date,description,amount,category</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1,2024-03-15,Groceries,45.23,Food</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2,2024-03-16,Movie Tickets,12.50,Entertainment</span><br></span></code></pre></div></div>
<p>This function is a great example of how to <strong>export structured data</strong> in Python.</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="step-8b-exporting--category-reports"><strong>Step 8b: Exporting &amp; Category Reports</strong><a href="#step-8b-exporting--category-reports" class="hash-link" aria-label="Direct link to step-8b-exporting--category-reports" title="Direct link to step-8b-exporting--category-reports">​</a></h2>
<p>This function analyzes expenses by category and displays a sorted summary. Let&#x27;s break it down clearly for your audience:</p>
<hr>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="1-function-definition--docstring-1"><strong>1. Function Definition &amp; Docstring</strong><a href="#1-function-definition--docstring-1" class="hash-link" aria-label="Direct link to 1-function-definition--docstring-1" title="Direct link to 1-function-definition--docstring-1">​</a></h4>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">category_summary</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">args</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token triple-quoted-string string" style="color:#e3116c">&quot;&quot;&quot;Show expenses by category&quot;&quot;&quot;</span><br></span></code></pre></div></div>
<ul>
<li><strong>What it does</strong>:<!-- -->
<ul>
<li>Defines the function <code>category_summary</code> that takes <code>args</code> (command-line arguments).</li>
<li>The docstring explains its purpose: showing expenses grouped by category.</li>
</ul>
</li>
<li><strong>Why it matters</strong>:<!-- -->
<ul>
<li>While <code>args</code> isn&#x27;t used here, it&#x27;s included for consistency with other functions.</li>
<li>Docstrings help document the function&#x27;s behaviour.</li>
</ul>
</li>
</ul>
<hr>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="2-load-expenses-1"><strong>2. Load Expenses</strong><a href="#2-load-expenses-1" class="hash-link" aria-label="Direct link to 2-load-expenses-1" title="Direct link to 2-load-expenses-1">​</a></h4>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    expenses </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> load_expenses</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<ul>
<li><strong>What it does</strong>:<!-- -->
<ul>
<li>Calls <code>load_expenses()</code> to fetch all expenses from <code>expenses.json</code>.</li>
<li>Returns a list of dictionaries (each representing an expense).</li>
</ul>
</li>
<li><strong>Why it matters</strong>:<!-- -->
<ul>
<li>We need the data before analyzing it.</li>
</ul>
</li>
</ul>
<hr>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="3-initialize-category-totals"><strong>3. Initialize Category Totals</strong><a href="#3-initialize-category-totals" class="hash-link" aria-label="Direct link to 3-initialize-category-totals" title="Direct link to 3-initialize-category-totals">​</a></h4>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    category_totals </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> defaultdict</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">float</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<ul>
<li><strong>What it does</strong>:<!-- -->
<ul>
<li>Creates a <code>defaultdict</code> (from the <code>collections</code> module) to store category totals.</li>
<li>Defaults to <code>float</code> (0.0) for new categories.</li>
</ul>
</li>
<li><strong>Why it matters</strong>:<!-- -->
<ul>
<li>Automatically handles new categories without manual checks.</li>
<li>Ensures numeric values for accurate calculations.</li>
</ul>
</li>
</ul>
<hr>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="4-calculate-category-totals"><strong>4. Calculate Category Totals</strong><a href="#4-calculate-category-totals" class="hash-link" aria-label="Direct link to 4-calculate-category-totals" title="Direct link to 4-calculate-category-totals">​</a></h4>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> expense </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> expenses</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        category_totals</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">expense</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;category&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+=</span><span class="token plain"> </span><span class="token builtin">float</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">expense</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;amount&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<ul>
<li><strong>What it does</strong>:<!-- -->
<ol>
<li>Loops through each expense.</li>
<li>For each expense:<!-- -->
<ul>
<li>Accesses its <code>category</code> (e.g., &quot;Food&quot;).</li>
<li>Converts <code>amount</code> to a <code>float</code> (e.g., <code>&quot;25.50&quot;</code> → <code>25.50</code>).</li>
<li>Adds the amount to the corresponding category in <code>category_totals</code>.</li>
</ul>
</li>
</ol>
</li>
<li><strong>Why it matters</strong>:<!-- -->
<ul>
<li>Aggregates spending by category.</li>
<li>Handles string-to-float conversion for calculations.</li>
</ul>
</li>
</ul>
<hr>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="5-print-report-header"><strong>5. Print Report Header</strong><a href="#5-print-report-header" class="hash-link" aria-label="Direct link to 5-print-report-header" title="Direct link to 5-print-report-header">​</a></h4>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Expenses by Category:&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;-&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">30</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<ul>
<li><strong>What it does</strong>:<!-- -->
<ul>
<li>Prints a title and a separator line (<code>-</code> repeated 30 times).</li>
</ul>
</li>
<li><strong>Why it matters</strong>:<!-- -->
<ul>
<li>Makes the output readable and structured.</li>
</ul>
</li>
</ul>
<hr>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="6-sort-and-display-results"><strong>6. Sort and Display Results</strong><a href="#6-sort-and-display-results" class="hash-link" aria-label="Direct link to 6-sort-and-display-results" title="Direct link to 6-sort-and-display-results">​</a></h4>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> category</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> total </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token builtin">sorted</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">category_totals</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">items</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> key</span><span class="token operator" style="color:#393A34">=</span><span class="token keyword" style="color:#00009f">lambda</span><span class="token plain"> x</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> x</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> reverse</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f&quot;</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">category</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">:</span><span class="token string-interpolation interpolation format-spec">&lt;20</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">: $</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">total</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">:</span><span class="token string-interpolation interpolation format-spec">.2f</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">&quot;</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<ul>
<li><strong>What it does</strong>:<!-- -->
<ol>
<li><strong>Sorting</strong>:<!-- -->
<ul>
<li><code>category_totals.items()</code> returns <code>(category, total)</code> pairs.</li>
<li><code>sorted(..., key=lambda x: x[1], reverse=True)</code> sorts categories by total (highest to lowest).</li>
</ul>
</li>
<li><strong>Formatting</strong>:<!-- -->
<ul>
<li><code>{category:&lt;20}</code>: Left-aligns the category name in 20 spaces.</li>
<li><code>${total:.2f}</code>: Formats the total as currency (2 decimal places).</li>
</ul>
</li>
</ol>
</li>
<li><strong>Why it matters</strong>:<!-- -->
<ul>
<li>Sorting highlights top spending categories.</li>
<li>Clean formatting improves readability.</li>
</ul>
</li>
</ul>
<hr>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="example-output-1"><strong>Example Output</strong><a href="#example-output-1" class="hash-link" aria-label="Direct link to example-output-1" title="Direct link to example-output-1">​</a></h4>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Expenses by Category:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">------------------------------</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Food               : $350.50</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Transportation     : $120.00</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Entertainment      : $75.25</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Utilities          : $60.00</span><br></span></code></pre></div></div>
<p>This function helps users <strong>identify spending patterns</strong>—a great example of data analysis in Python!</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="step-9-building-the-cli-with-argparse"><strong>Step 9: Building the CLI with <code>argparse</code></strong><a href="#step-9-building-the-cli-with-argparse" class="hash-link" aria-label="Direct link to step-9-building-the-cli-with-argparse" title="Direct link to step-9-building-the-cli-with-argparse">​</a></h2>
<p>This code sets up the CLI (Command Line Interface) for the Expense Tracker. Let&#x27;s break it down thoroughly for your audience:</p>
<hr>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="1-main-function-definition"><strong>1. Main Function Definition</strong><a href="#1-main-function-definition" class="hash-link" aria-label="Direct link to 1-main-function-definition" title="Direct link to 1-main-function-definition">​</a></h4>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">main</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><br></span></code></pre></div></div>
<ul>
<li><strong>Purpose</strong>: The entry point of our CLI application.</li>
<li><strong>Why it matters</strong>: Organizes all command setup in one place.</li>
</ul>
<hr>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="2-argument-parser-setup"><strong>2. Argument Parser Setup</strong><a href="#2-argument-parser-setup" class="hash-link" aria-label="Direct link to 2-argument-parser-setup" title="Direct link to 2-argument-parser-setup">​</a></h4>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    parser </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> argparse</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ArgumentParser</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">description</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;Expense Tracker CLI&quot;</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<ul>
<li><strong>What it does</strong>:<!-- -->
<ul>
<li>Creates an <code>ArgumentParser</code> object to handle command-line inputs.</li>
<li>Sets a general description for the program.</li>
</ul>
</li>
<li><strong>Why it matters</strong>:<!-- -->
<ul>
<li>Provides help text when users run <code>python expense_tracker.py --help</code>.</li>
</ul>
</li>
</ul>
<hr>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="3-subparsers-for-commands"><strong>3. Subparsers for Commands</strong><a href="#3-subparsers-for-commands" class="hash-link" aria-label="Direct link to 3-subparsers-for-commands" title="Direct link to 3-subparsers-for-commands">​</a></h4>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    subparsers </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> parser</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">add_subparsers</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">dest</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;command&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> required</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<ul>
<li><strong>What it does</strong>:<!-- -->
<ul>
<li>Creates subparsers to handle different commands (<code>add</code>, <code>list</code>, <code>delete</code>, etc.).</li>
<li><code>dest=&quot;command&quot;</code> stores the chosen command (e.g., <code>&quot;add&quot;</code>).</li>
<li><code>required=True</code> forces users to specify a command.</li>
</ul>
</li>
<li><strong>Why it matters</strong>:<!-- -->
<ul>
<li>Enables a modular CLI (each command has its own arguments).</li>
</ul>
</li>
</ul>
<hr>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="4-add-expense-command-setup"><strong>4. &quot;Add Expense&quot; Command Setup</strong><a href="#4-add-expense-command-setup" class="hash-link" aria-label="Direct link to 4-add-expense-command-setup" title="Direct link to 4-add-expense-command-setup">​</a></h4>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    add_parser </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> subparsers</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">add_parser</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;add&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token builtin">help</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;Add a new expense&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    add_parser</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">add_argument</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;--description&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> required</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token builtin">help</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;Expense description&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    add_parser</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">add_argument</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;--amount&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> required</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token builtin">type</span><span class="token operator" style="color:#393A34">=</span><span class="token builtin">float</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token builtin">help</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;Expense amount&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    add_parser</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">add_argument</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;--category&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> default</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;Uncategorized&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token builtin">help</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;Expense category&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    add_parser</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">set_defaults</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">func</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">add_expense</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<ul>
<li><strong>What it does</strong>:<!-- -->
<ol>
<li>Defines the <code>add</code> command with help text.</li>
<li>Adds arguments:<!-- -->
<ul>
<li><code>--description</code> (required, text input).</li>
<li><code>--amount</code> (required, converted to <code>float</code>).</li>
<li><code>--category</code> (optional, defaults to &quot;Uncategorized&quot;).</li>
</ul>
</li>
<li>Links to <code>add_expense</code> function (called when <code>add</code> is used).</li>
</ol>
</li>
<li><strong>Why it matters</strong>:<!-- -->
<ul>
<li>Makes the <code>add</code> command work with proper validation.</li>
</ul>
</li>
</ul>
<hr>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="5-list-expenses-command-setup"><strong>5. &quot;List Expenses&quot; Command Setup</strong><a href="#5-list-expenses-command-setup" class="hash-link" aria-label="Direct link to 5-list-expenses-command-setup" title="Direct link to 5-list-expenses-command-setup">​</a></h4>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    list_parser </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> subparsers</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">add_parser</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;list&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token builtin">help</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;List expenses&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    list_parser</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">add_argument</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;--category&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token builtin">help</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;Filter by category&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    list_parser</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">set_defaults</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">func</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">list_expenses</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<ul>
<li><strong>What it does</strong>:<!-- -->
<ul>
<li>Defines <code>list</code> command to show expenses.</li>
<li>Optional <code>--category</code> filters results.</li>
<li>Calls <code>list_expenses</code> when executed.</li>
</ul>
</li>
<li><strong>Why it matters</strong>:<!-- -->
<ul>
<li>Users can view expenses, optionally filtered by category.</li>
</ul>
</li>
</ul>
<hr>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="6-delete-expense-command-setup"><strong>6. &quot;Delete Expense&quot; Command Setup</strong><a href="#6-delete-expense-command-setup" class="hash-link" aria-label="Direct link to 6-delete-expense-command-setup" title="Direct link to 6-delete-expense-command-setup">​</a></h4>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    delete_parser </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> subparsers</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">add_parser</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;delete&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token builtin">help</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;Delete an expense&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    delete_parser</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">add_argument</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;--id&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token builtin">type</span><span class="token operator" style="color:#393A34">=</span><span class="token builtin">int</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> required</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token builtin">help</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;Expense ID to delete&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    delete_parser</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">set_defaults</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">func</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">delete_expense</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<ul>
<li><strong>What it does</strong>:<!-- -->
<ul>
<li>Defines <code>delete</code> command requiring <code>--id</code> (must be an integer).</li>
<li>Calls <code>delete_expense</code> when executed.</li>
</ul>
</li>
<li><strong>Why it matters</strong>:<!-- -->
<ul>
<li>Provides a way to remove expenses by ID.</li>
</ul>
</li>
</ul>
<hr>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="7-update-expense-command-setup"><strong>7. &quot;Update Expense&quot; Command Setup</strong><a href="#7-update-expense-command-setup" class="hash-link" aria-label="Direct link to 7-update-expense-command-setup" title="Direct link to 7-update-expense-command-setup">​</a></h4>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    update_parser </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> subparsers</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">add_parser</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;update&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token builtin">help</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;Update an expense&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    update_parser</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">add_argument</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;--id&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token builtin">type</span><span class="token operator" style="color:#393A34">=</span><span class="token builtin">int</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> required</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token builtin">help</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;Expense ID to update&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    update_parser</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">add_argument</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;--description&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token builtin">help</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;New description&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    update_parser</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">add_argument</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;--amount&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token builtin">type</span><span class="token operator" style="color:#393A34">=</span><span class="token builtin">float</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token builtin">help</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;New amount&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    update_parser</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">add_argument</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;--category&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token builtin">help</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;New category&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    update_parser</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">set_defaults</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">func</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">update_expense</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<ul>
<li><strong>What it does</strong>:<!-- -->
<ul>
<li>Defines <code>update</code> command requiring <code>--id</code>.</li>
<li>Optional arguments (<code>--description</code>, <code>--amount</code>, <code>--category</code>) allow partial updates.</li>
<li>Calls <code>update_expense</code> when executed.</li>
</ul>
</li>
<li><strong>Why it matters</strong>:<!-- -->
<ul>
<li>Users can modify existing expenses flexibly.</li>
</ul>
</li>
</ul>
<hr>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="8-summary-command-setup"><strong>8. &quot;Summary&quot; Command Setup</strong><a href="#8-summary-command-setup" class="hash-link" aria-label="Direct link to 8-summary-command-setup" title="Direct link to 8-summary-command-setup">​</a></h4>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    summary_parser </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> subparsers</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">add_parser</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;summary&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token builtin">help</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;Show summary&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    summary_parser</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">add_argument</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;--month&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token builtin">type</span><span class="token operator" style="color:#393A34">=</span><span class="token builtin">int</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> choices</span><span class="token operator" style="color:#393A34">=</span><span class="token builtin">range</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">13</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token builtin">help</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;Month (1-12)&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    summary_parser</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">set_defaults</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">func</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">summary</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<ul>
<li><strong>What it does</strong>:<!-- -->
<ul>
<li>Defines <code>summary</code> command with optional <code>--month</code> filtering.</li>
<li><code>choices=range(1,13)</code> restricts input to valid months (1-12).</li>
<li>Calls <code>summary</code> when executed.</li>
</ul>
</li>
<li><strong>Why it matters</strong>:<!-- -->
<ul>
<li>Shows spending summaries (optionally by month).</li>
</ul>
</li>
</ul>
<hr>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="9-set-budget-command-setup"><strong>9. &quot;Set Budget&quot; Command Setup</strong><a href="#9-set-budget-command-setup" class="hash-link" aria-label="Direct link to 9-set-budget-command-setup" title="Direct link to 9-set-budget-command-setup">​</a></h4>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    budget_parser </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> subparsers</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">add_parser</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;set-budget&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token builtin">help</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;Set monthly budget&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    budget_parser</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">add_argument</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;--month&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token builtin">type</span><span class="token operator" style="color:#393A34">=</span><span class="token builtin">int</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> choices</span><span class="token operator" style="color:#393A34">=</span><span class="token builtin">range</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">13</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> required</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token builtin">help</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;Month (1-12)&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    budget_parser</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">add_argument</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;--amount&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token builtin">type</span><span class="token operator" style="color:#393A34">=</span><span class="token builtin">float</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> required</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token builtin">help</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;Budget amount&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    budget_parser</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">set_defaults</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">func</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">set_budget</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<ul>
<li><strong>What it does</strong>:<!-- -->
<ul>
<li>Defines <code>set-budget</code> requiring <code>--month</code> and <code>--amount</code>.</li>
<li>Calls <code>set_budget</code> when executed.</li>
</ul>
</li>
<li><strong>Why it matters</strong>:<!-- -->
<ul>
<li>Lets users define monthly spending limits.</li>
</ul>
</li>
</ul>
<hr>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="10-export-to-csv-command-setup"><strong>10. &quot;Export to CSV&quot; Command Setup</strong><a href="#10-export-to-csv-command-setup" class="hash-link" aria-label="Direct link to 10-export-to-csv-command-setup" title="Direct link to 10-export-to-csv-command-setup">​</a></h4>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    export_parser </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> subparsers</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">add_parser</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;export&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token builtin">help</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;Export to CSV&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    export_parser</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">add_argument</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;--filename&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token builtin">help</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;Output filename (default: expenses_export.csv)&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    export_parser</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">set_defaults</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">func</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">export_to_csv</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<ul>
<li><strong>What it does</strong>:<!-- -->
<ul>
<li>Defines <code>export</code> command with optional <code>--filename</code>.</li>
<li>Calls <code>export_to_csv</code> when executed.</li>
</ul>
</li>
<li><strong>Why it matters</strong>:<!-- -->
<ul>
<li>Exports data for external analysis (e.g., Excel).</li>
</ul>
</li>
</ul>
<hr>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="11-category-summary-command-setup"><strong>11. &quot;Category Summary&quot; Command Setup</strong><a href="#11-category-summary-command-setup" class="hash-link" aria-label="Direct link to 11-category-summary-command-setup" title="Direct link to 11-category-summary-command-setup">​</a></h4>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    category_parser </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> subparsers</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">add_parser</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;category-summary&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token builtin">help</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;Show category breakdown&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    category_parser</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">set_defaults</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">func</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">category_summary</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<ul>
<li><strong>What it does</strong>:<!-- -->
<ul>
<li>Defines <code>category-summary</code> command (no arguments).</li>
<li>Calls <code>category_summary</code> when executed.</li>
</ul>
</li>
<li><strong>Why it matters</strong>:<!-- -->
<ul>
<li>Shows spending distribution by category.</li>
</ul>
</li>
</ul>
<hr>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="12-parse-arguments--execute-command"><strong>12. Parse Arguments &amp; Execute Command</strong><a href="#12-parse-arguments--execute-command" class="hash-link" aria-label="Direct link to 12-parse-arguments--execute-command" title="Direct link to 12-parse-arguments--execute-command">​</a></h4>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    args </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> parser</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">parse_args</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    args</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">func</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">args</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<ul>
<li><strong>What it does</strong>:<!-- -->
<ol>
<li><code>parse_args()</code> processes user input (e.g., <code>python expense_tracker.py add --amount 10</code>).</li>
<li><code>args.func(args)</code> calls the correct function (e.g., <code>add_expense</code>).</li>
</ol>
</li>
<li><strong>Why it matters</strong>:<!-- -->
<ul>
<li>Connects user input to the right function.</li>
</ul>
</li>
</ul>
<hr>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="13-run-the-program"><strong>13. Run the Program</strong><a href="#13-run-the-program" class="hash-link" aria-label="Direct link to 13-run-the-program" title="Direct link to 13-run-the-program">​</a></h4>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> __name__ </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;__main__&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    main</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<ul>
<li><strong>What it does</strong>:<!-- -->
<ul>
<li>Ensures <code>main()</code> runs only when the script is executed directly (not imported).</li>
</ul>
</li>
<li><strong>Why it matters</strong>:<!-- -->
<ul>
<li>Standard Python practice for CLI applications.</li>
</ul>
</li>
</ul>
<hr></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Expense Tracker/Build an Expense Tracker CLI Application - Explained Line by Line.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/project-wiki/docs/tutorial-extras/translate-your-site"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Translate your site</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/project-wiki/docs/Expense Tracker/Expense Tracker CLI Application"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Expense Tracker CLI Application</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#step-1-planning-the-application" class="table-of-contents__link toc-highlight"><strong>Step 1: Planning the Application</strong></a><ul><li><a href="#core-features" class="table-of-contents__link toc-highlight"><strong>Core Features</strong></a></li><li><a href="#data-storage" class="table-of-contents__link toc-highlight"><strong>Data Storage</strong></a></li><li><a href="#tools--libraries" class="table-of-contents__link toc-highlight"><strong>Tools &amp; Libraries</strong></a></li></ul></li><li><a href="#step-2-setting-up-the-project" class="table-of-contents__link toc-highlight"><strong>Step 2: Setting Up the Project</strong></a></li><li><a href="#step-3-defining-data-storage" class="table-of-contents__link toc-highlight"><strong>Step 3: Defining Data Storage</strong></a></li><li><a href="#step-4-adding-expenses" class="table-of-contents__link toc-highlight"><strong>Step 4: Adding Expenses</strong></a></li><li><a href="#step-5-listing-expenses" class="table-of-contents__link toc-highlight"><strong>Step 5: Listing Expenses</strong></a></li><li><a href="#step-6a-deleting--updating-expenses" class="table-of-contents__link toc-highlight"><strong>Step 6a: Deleting &amp; Updating Expenses</strong></a></li><li><a href="#step-6b-updating-expenses" class="table-of-contents__link toc-highlight"><strong>Step 6b: Updating Expenses</strong></a></li><li><a href="#step-7a-budget-tracking--reports" class="table-of-contents__link toc-highlight"><strong>Step 7a: Budget Tracking &amp; Reports</strong></a></li><li><a href="#step-7b-budget-tracking--reports" class="table-of-contents__link toc-highlight"><strong>Step 7b: Budget Tracking &amp; Reports</strong></a></li><li><a href="#step-8a-exporting--category-reports" class="table-of-contents__link toc-highlight"><strong>Step 8a: Exporting &amp; Category Reports</strong></a></li><li><a href="#step-8b-exporting--category-reports" class="table-of-contents__link toc-highlight"><strong>Step 8b: Exporting &amp; Category Reports</strong></a></li><li><a href="#step-9-building-the-cli-with-argparse" class="table-of-contents__link toc-highlight"><strong>Step 9: Building the CLI with <code>argparse</code></strong></a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/project-wiki/docs/intro">Tutorial</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.linkedin.com/in/ezra-yeswa/" target="_blank" rel="noopener noreferrer" class="footer__link-item">LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://discord.com/channels/@me" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/project-wiki/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/king-luvaha" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://roadmap.sh/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Roadmap<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>