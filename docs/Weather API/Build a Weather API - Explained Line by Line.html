<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-Weather API/Build a Weather API - Explained Line by Line" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">Build a Weather API - Explained Line by Line | MekSense</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://king-luvaha.github.io/project-wiki/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://king-luvaha.github.io/project-wiki/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://king-luvaha.github.io/project-wiki/docs/Weather API/Build a Weather API - Explained Line by Line"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Build a Weather API - Explained Line by Line | MekSense"><meta data-rh="true" name="description" content="This guide provides a comprehensive line-by-line explanation of a Flask weather API with Redis caching. Perfect for teaching beginners how to build production-ready APIs!"><meta data-rh="true" property="og:description" content="This guide provides a comprehensive line-by-line explanation of a Flask weather API with Redis caching. Perfect for teaching beginners how to build production-ready APIs!"><link data-rh="true" rel="icon" href="/project-wiki/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://king-luvaha.github.io/project-wiki/docs/Weather API/Build a Weather API - Explained Line by Line"><link data-rh="true" rel="alternate" href="https://king-luvaha.github.io/project-wiki/docs/Weather API/Build a Weather API - Explained Line by Line" hreflang="en"><link data-rh="true" rel="alternate" href="https://king-luvaha.github.io/project-wiki/docs/Weather API/Build a Weather API - Explained Line by Line" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Build a Weather API - Explained Line by Line","item":"https://king-luvaha.github.io/project-wiki/docs/Weather API/Build a Weather API - Explained Line by Line"}]}</script><link rel="alternate" type="application/rss+xml" href="/project-wiki/blog/rss.xml" title="MekSense RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/project-wiki/blog/atom.xml" title="MekSense Atom Feed"><link rel="stylesheet" href="/project-wiki/assets/css/styles.80047e65.css">
<script src="/project-wiki/assets/js/runtime~main.6aba4d97.js" defer="defer"></script>
<script src="/project-wiki/assets/js/main.77fd581b.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/project-wiki/img/logo.svg"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/project-wiki/"><div class="navbar__logo"><img src="/project-wiki/img/logo.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/project-wiki/img/logo.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">MekSense</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/project-wiki/docs/intro">Tutorial</a><a class="navbar__item navbar__link" href="/project-wiki/blog">Blog</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/king-luvaha" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/project-wiki/docs/intro">Getting Started!</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/project-wiki/docs/Blogging Platform API/Blogging Platform API Task">Blogging Platform API</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/project-wiki/docs/Expense Tracker/Build an Expense Tracker CLI Application - Explained Line by Line">Expense Tracker</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/project-wiki/docs/GitHub User Activity/Build a GitHub User Activity CLI Application - Explained Line by Line">GitHub User Activity</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/project-wiki/docs/Number Guessing Game/Build a Number Guessing Game Application - Explained Line by Line">Number Guessing Game</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/project-wiki/docs/Personal Blog/Personal Blog Application">Personal Blog</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/project-wiki/docs/Task Tracker/Build a Simple Python CLI Task Tracker - Explained Line by Line">Task Tracker</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/project-wiki/docs/To-Do List API/Todo List API">To-Do List API</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/project-wiki/docs/Unit Converter/Build a Unit Converter Web App - Explained Line by Line">Unit Converter</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/project-wiki/docs/Weather API/Build a Weather API - Explained Line by Line">Weather API</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/project-wiki/docs/Weather API/Build a Weather API - Explained Line by Line">Build a Weather API - Explained Line by Line</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/project-wiki/docs/Weather API/Step by Step Guide for the Weather API Setup">Step by Step Guide for the Weather API Setup</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/project-wiki/docs/Weather API/Weather API Task">Weather API Task</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/project-wiki/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Weather API</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Build a Weather API - Explained Line by Line</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Build a Weather API - Explained Line by Line</h1></header><p>This guide provides a comprehensive line-by-line explanation of a Flask weather API with Redis caching. Perfect for teaching beginners how to build production-ready APIs!</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="part-1-main-application---apppy">Part 1: Main Application - app.py<a href="#part-1-main-application---apppy" class="hash-link" aria-label="Direct link to Part 1: Main Application - app.py" title="Direct link to Part 1: Main Application - app.py">​</a></h2>
<p>Let&#x27;s break down this Flask weather API code line by line to understand how it works!</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="import-statements---setting-up-our-tools">Import Statements - Setting Up Our Tools<a href="#import-statements---setting-up-our-tools" class="hash-link" aria-label="Direct link to Import Statements - Setting Up Our Tools" title="Direct link to Import Statements - Setting Up Our Tools">​</a></h3>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> flask </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> Flask</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> request</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> jsonify</span><br></span></code></pre></div></div>
<p><strong>What&#x27;s happening here?</strong></p>
<ul>
<li>We&#x27;re importing three essential pieces from Flask:<!-- -->
<ul>
<li><code>Flask</code>: The main class that creates our web application</li>
<li><code>request</code>: Lets us access data sent by users (like URL parameters)</li>
<li><code>jsonify</code>: Converts Python dictionaries into JSON format for API responses</li>
</ul>
</li>
</ul>
<p><strong>Why do we need this?</strong> Think of Flask as your web server toolkit. These imports give us the basic tools to build a web API.</p>
<hr>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> dotenv </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> load_dotenv</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> os</span><br></span></code></pre></div></div>
<p><strong>What&#x27;s happening here?</strong></p>
<ul>
<li><code>load_dotenv</code>: Loads environment variables from a <code>.env</code> file</li>
<li><code>os</code>: Python&#x27;s built-in module for interacting with the operating system</li>
</ul>
<p><strong>Why do we need this?</strong> We use <code>.env</code> files to store sensitive information like API keys. This keeps secrets out of our code and makes our app more secure.</p>
<hr>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> weather_api </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> get_weather</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> cache </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> cache_get</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> cache_set</span><br></span></code></pre></div></div>
<p><strong>What&#x27;s happening here?</strong></p>
<ul>
<li>We&#x27;re importing custom functions from our other Python files:<!-- -->
<ul>
<li><code>get_weather</code>: Function that fetches weather data from the Visual Crossing API</li>
<li><code>cache_get</code> and <code>cache_set</code>: Functions that handle Redis caching</li>
</ul>
</li>
</ul>
<p><strong>Why do we need this?</strong> This is modular programming! Instead of putting all our code in one file, we split it into logical pieces. This makes our code easier to read, test, and maintain.</p>
<hr>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> flask_limiter </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> Limiter</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> flask_limiter</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">util </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> get_remote_address</span><br></span></code></pre></div></div>
<p><strong>What&#x27;s happening here?</strong></p>
<ul>
<li><code>Limiter</code>: A Flask extension that limits how many requests users can make</li>
<li><code>get_remote_address</code>: Helper function that identifies users by their IP address</li>
</ul>
<p><strong>Why do we need this?</strong> Rate limiting prevents abuse of our API. Without it, someone could spam our API with thousands of requests and crash our server or exhaust our API quotas.</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="application-setup">Application Setup<a href="#application-setup" class="hash-link" aria-label="Direct link to Application Setup" title="Direct link to Application Setup">​</a></h3>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">load_dotenv</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p><strong>What&#x27;s happening here?</strong> This loads all the environment variables from our <code>.env</code> file into memory.</p>
<p><strong>Why do we need this?</strong> Now we can access our API keys and other sensitive data using <code>os.getenv()</code> throughout our application.</p>
<hr>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">app </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Flask</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">__name__</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p><strong>What&#x27;s happening here?</strong> We&#x27;re creating our Flask application instance. <code>__name__</code> tells Flask the name of the current module.</p>
<p><strong>Why do we need this?</strong> This creates the foundation of our web application. Everything else will be built on top of this <code>app</code> object.</p>
<hr>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">limiter </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Limiter</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">app</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">app</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> key_func</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">get_remote_address</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p><strong>What&#x27;s happening here?</strong></p>
<ul>
<li>We&#x27;re setting up rate limiting for our Flask app</li>
<li><code>key_func=get_remote_address</code> means we&#x27;ll track limits per IP address</li>
</ul>
<p><strong>Why do we need this?</strong> This protects our API from being overwhelmed. Each IP address will have its own request limit.</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="route-definitions---the-api-endpoints">Route Definitions - The API Endpoints<a href="#route-definitions---the-api-endpoints" class="hash-link" aria-label="Direct link to Route Definitions - The API Endpoints" title="Direct link to Route Definitions - The API Endpoints">​</a></h3>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token decorator annotation punctuation" style="color:#393A34">@app</span><span class="token decorator annotation punctuation" style="color:#393A34">.</span><span class="token decorator annotation punctuation" style="color:#393A34">route</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;/&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">home</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">&quot;message&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Welcome to the Weather API!&quot;</span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<p><strong>What&#x27;s happening here?</strong></p>
<ul>
<li><code>@app.route(&#x27;/&#x27;)</code>: This decorator tells Flask that when someone visits the root URL, call this function</li>
<li>The function returns a simple welcome message as a Python dictionary</li>
<li>Flask automatically converts the dictionary to JSON</li>
</ul>
<p><strong>Why do we need this?</strong> This gives users a friendly landing page and confirms the API is running. It&#x27;s like a &quot;hello world&quot; for APIs.</p>
<hr>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token decorator annotation punctuation" style="color:#393A34">@app</span><span class="token decorator annotation punctuation" style="color:#393A34">.</span><span class="token decorator annotation punctuation" style="color:#393A34">route</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;/weather&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token decorator annotation punctuation" style="color:#393A34">@limiter</span><span class="token decorator annotation punctuation" style="color:#393A34">.</span><span class="token decorator annotation punctuation" style="color:#393A34">limit</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;10/minute&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">weather</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><br></span></code></pre></div></div>
<p><strong>What&#x27;s happening here?</strong></p>
<ul>
<li><code>@app.route(&#x27;/weather&#x27;)</code>: When someone visits <code>/weather</code>, call this function</li>
<li><code>@limiter.limit(&quot;10/minute&quot;)</code>: Limit each IP to 10 requests per minute</li>
<li>We define a function called <code>weather()</code> to handle these requests</li>
</ul>
<p><strong>Why do we need this?</strong> This creates our main API endpoint. The rate limit ensures fair usage and protects our server.</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="request-processing">Request Processing<a href="#request-processing" class="hash-link" aria-label="Direct link to Request Processing" title="Direct link to Request Processing">​</a></h3>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">city </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> request</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">args</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;city&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p><strong>What&#x27;s happening here?</strong> We&#x27;re extracting the &#x27;city&#x27; parameter from the URL. For example, in <code>/weather?city=London</code>, this would get &quot;London&quot;.</p>
<p><strong>Why do we need this?</strong> Users need to tell us which city they want weather data for. URL parameters are a standard way to pass data to APIs.</p>
<hr>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">not</span><span class="token plain"> city</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> jsonify</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">&quot;error&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;City parameter is required&quot;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">400</span><br></span></code></pre></div></div>
<p><strong>What&#x27;s happening here?</strong></p>
<ul>
<li>We check if the city parameter is missing or empty</li>
<li>If so, we return an error message with HTTP status code 400 (Bad Request)</li>
<li><code>jsonify()</code> converts our error dictionary into proper JSON format</li>
</ul>
<p><strong>Why do we need this?</strong> Input validation is crucial! We need to handle cases where users don&#x27;t provide required information gracefully.</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="cache-logic">Cache Logic<a href="#cache-logic" class="hash-link" aria-label="Direct link to Cache Logic" title="Direct link to Cache Logic">​</a></h3>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cached </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> cache_get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">city</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> cached</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> jsonify</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">&quot;source&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;cache&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;data&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> cached</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p><strong>What&#x27;s happening here?</strong></p>
<ul>
<li>We check if we already have weather data for this city in our Redis cache</li>
<li>If we do, we return it immediately with a &quot;cache&quot; source label</li>
<li>This avoids making unnecessary API calls</li>
</ul>
<p><strong>Why do we need this?</strong> Caching improves performance and reduces costs. Weather data doesn&#x27;t change every second, so we can serve recent data from cache instead of hitting the external API every time.</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="api-call-and-caching">API Call and Caching<a href="#api-call-and-caching" class="hash-link" aria-label="Direct link to API Call and Caching" title="Direct link to API Call and Caching">​</a></h3>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">try</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    data </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> get_weather</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">city</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    cache_set</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">city</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> data</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> ex</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">43200</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> jsonify</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">&quot;source&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;api&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;data&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> data</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">except</span><span class="token plain"> Exception </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> jsonify</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">&quot;error&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">e</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">500</span><br></span></code></pre></div></div>
<p><strong>What&#x27;s happening here?</strong></p>
<ul>
<li><code>try</code>: We attempt to get fresh weather data from the API</li>
<li><code>data = get_weather(city)</code>: Call our weather API function</li>
<li><code>cache_set(city, data, ex=43200)</code>: Store the result in cache for 12 hours (43200 seconds)</li>
<li>We return the data with an &quot;api&quot; source label</li>
<li><code>except</code>: If anything goes wrong, we catch the error and return a 500 status code</li>
</ul>
<p><strong>Why do we need this?</strong></p>
<ul>
<li>The try/except handles errors gracefully (network issues, invalid cities, etc.)</li>
<li>We cache the result so future requests for the same city will be faster</li>
<li>The source label helps users know if they&#x27;re getting cached or fresh data</li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="application-runner">Application Runner<a href="#application-runner" class="hash-link" aria-label="Direct link to Application Runner" title="Direct link to Application Runner">​</a></h3>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> __name__ </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;__main__&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    app</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">run</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">debug</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p><strong>What&#x27;s happening here?</strong></p>
<ul>
<li>This only runs if we execute this file directly (not when imported)</li>
<li><code>debug=True</code> enables development mode with helpful error messages and auto-reload</li>
</ul>
<p><strong>Why do we need this?</strong> This lets us run our Flask app for development and testing. In production, we&#x27;d use a proper WSGI server instead.</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="how-it-all-works-together">How It All Works Together<a href="#how-it-all-works-together" class="hash-link" aria-label="Direct link to How It All Works Together" title="Direct link to How It All Works Together">​</a></h3>
<ol>
<li><strong>User makes request</strong> → <code>/weather?city=London</code></li>
<li><strong>Rate limiting checks</strong> → Is this IP under the limit?</li>
<li><strong>Input validation</strong> → Did they provide a city name?</li>
<li><strong>Cache check</strong> → Do we have recent data for London?</li>
<li><strong>If cached</strong> → Return cached data immediately</li>
<li><strong>If not cached</strong> → Call external weather API</li>
<li><strong>Store in cache</strong> → Save the result for future requests</li>
<li><strong>Return response</strong> → Send JSON data back to user</li>
</ol>
<p>This architecture is efficient, robust, and scalable!</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="part-2-weather-api-integration---weather_apipy">Part 2: Weather API Integration - weather_api.py<a href="#part-2-weather-api-integration---weather_apipy" class="hash-link" aria-label="Direct link to Part 2: Weather API Integration - weather_api.py" title="Direct link to Part 2: Weather API Integration - weather_api.py">​</a></h2>
<p>Let&#x27;s break down this weather API integration code line by line to understand how we fetch weather data from Visual Crossing!</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="import-statements---getting-our-tools-ready">Import Statements - Getting Our Tools Ready<a href="#import-statements---getting-our-tools-ready" class="hash-link" aria-label="Direct link to Import Statements - Getting Our Tools Ready" title="Direct link to Import Statements - Getting Our Tools Ready">​</a></h3>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> requests</span><br></span></code></pre></div></div>
<p><strong>What&#x27;s happening here?</strong> We&#x27;re importing the <code>requests</code> library, which is Python&#x27;s most popular HTTP client library.</p>
<p><strong>Why do we need this?</strong> The <code>requests</code> library makes it incredibly easy to make HTTP calls to external APIs. Without it, we&#x27;d have to use Python&#x27;s built-in <code>urllib</code> which is much more complicated. Think of <code>requests</code> as your friendly messenger that can talk to other websites and APIs for you.</p>
<p><strong>Real-world analogy:</strong> It&#x27;s like having a personal assistant who can make phone calls to other companies to get information for you, instead of you having to make those calls directly.</p>
<hr>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> os</span><br></span></code></pre></div></div>
<p><strong>What&#x27;s happening here?</strong> We&#x27;re importing Python&#x27;s built-in <code>os</code> module, which lets us interact with the operating system.</p>
<p><strong>Why do we need this?</strong> We need access to environment variables (like our secret API key) that are stored at the system level. This keeps sensitive information out of our code.</p>
<p><strong>Security note:</strong> Never hardcode API keys in your source code! Environment variables are a secure way to store secrets.</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="configuration---setting-up-our-api-key">Configuration - Setting Up Our API Key<a href="#configuration---setting-up-our-api-key" class="hash-link" aria-label="Direct link to Configuration - Setting Up Our API Key" title="Direct link to Configuration - Setting Up Our API Key">​</a></h3>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">API_KEY </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> os</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">getenv</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;API_KEY&quot;</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p><strong>What&#x27;s happening here?</strong></p>
<ul>
<li><code>os.getenv(&quot;API_KEY&quot;)</code> looks for an environment variable named &quot;API_KEY&quot;</li>
<li>We store whatever value it finds in the <code>API_KEY</code> variable</li>
<li>If no environment variable is found, this returns <code>None</code></li>
</ul>
<p><strong>Why do we need this?</strong> This is a security best practice! Our Visual Crossing API key is stored safely in our <code>.env</code> file, not in our source code. This means:</p>
<ul>
<li>We can share our code without exposing our API key</li>
<li>Different environments (development, testing, production) can use different keys</li>
<li>If someone gets access to our code, they can&#x27;t steal our API key</li>
</ul>
<p><strong>What could go wrong?</strong> If the API_KEY environment variable isn&#x27;t set, this will be <code>None</code>, and our API calls will fail. In production code, you might want to add validation here.</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="the-weather-function---where-the-magic-happens">The Weather Function - Where the Magic Happens<a href="#the-weather-function---where-the-magic-happens" class="hash-link" aria-label="Direct link to The Weather Function - Where the Magic Happens" title="Direct link to The Weather Function - Where the Magic Happens">​</a></h3>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">get_weather</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">city</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><br></span></code></pre></div></div>
<p><strong>What&#x27;s happening here?</strong> We&#x27;re defining a function called <code>get_weather</code> that takes one parameter: <code>city</code>.</p>
<p><strong>Why do we need this?</strong> Functions are reusable blocks of code. By creating this function, we can get weather data for any city by simply calling <code>get_weather(&quot;London&quot;)</code> or <code>get_weather(&quot;Paris&quot;)</code>. This makes our code modular and easy to use.</p>
<p><strong>Design principle:</strong> This function has a single responsibility: fetch weather data for a given city. This follows the Single Responsibility Principle, making our code easier to test and maintain.</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="building-the-api-url---crafting-our-request">Building the API URL - Crafting Our Request<a href="#building-the-api-url---crafting-our-request" class="hash-link" aria-label="Direct link to Building the API URL - Crafting Our Request" title="Direct link to Building the API URL - Crafting Our Request">​</a></h3>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">url </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string-interpolation string" style="color:#e3116c">f&quot;https://weather.visualcrossing.com/VisualCrossingWebServices/rest/services/timeline/</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">city</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">?unitGroup=metric&amp;key=</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">API_KEY</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">&amp;contentType=json&quot;</span><br></span></code></pre></div></div>
<p><strong>What&#x27;s happening here?</strong> We&#x27;re building a URL string using an f-string (formatted string literal) that includes:</p>
<ul>
<li>The base Visual Crossing API endpoint</li>
<li>The city name (inserted dynamically)</li>
<li>Query parameters for our preferences</li>
</ul>
<p><strong>Let&#x27;s break down the URL parts:</strong></p>
<ul>
<li><code>https://weather.visualcrossing.com/VisualCrossingWebServices/rest/services/timeline/</code> - Base API endpoint</li>
<li><code>{city}</code> - The city name we want weather for (dynamically inserted)</li>
<li><code>?unitGroup=metric</code> - We want temperatures in Celsius, not Fahrenheit</li>
<li><code>&amp;key={API_KEY}</code> - Our authentication key (dynamically inserted)</li>
<li><code>&amp;contentType=json</code> - We want the response in JSON format</li>
</ul>
<p><strong>Why f-strings?</strong> F-strings are the modern, readable way to format strings in Python. They&#x27;re faster and clearer than older methods like <code>.format()</code> or <code>%</code> formatting.</p>
<p><strong>Example of what this URL looks like:</strong> If <code>city=&quot;London&quot;</code> and your API key is &quot;abc123&quot;, the URL becomes:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">https://weather.visualcrossing.com/VisualCrossingWebServices/rest/services/timeline/London?unitGroup=metric&amp;key=abc123&amp;contentType=json</span><br></span></code></pre></div></div>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="making-the-api-call---sending-our-request">Making the API Call - Sending Our Request<a href="#making-the-api-call---sending-our-request" class="hash-link" aria-label="Direct link to Making the API Call - Sending Our Request" title="Direct link to Making the API Call - Sending Our Request">​</a></h3>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">response </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> requests</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">url</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p><strong>What&#x27;s happening here?</strong></p>
<ul>
<li>We use <code>requests.get()</code> to make an HTTP GET request to our constructed URL</li>
<li>The Visual Crossing server processes our request and sends back a response</li>
<li>We store that response in the <code>response</code> variable</li>
</ul>
<p><strong>Why GET request?</strong> GET requests are used for retrieving data (as opposed to POST for creating, PUT for updating, etc.). Since we&#x27;re just asking for weather information, GET is the appropriate HTTP method.</p>
<p><strong>What&#x27;s in the response?</strong> The <code>response</code> object contains:</p>
<ul>
<li>Status code (200 for success, 404 for not found, etc.)</li>
<li>Headers (metadata about the response)</li>
<li>Body (the actual weather data)</li>
<li>And much more!</li>
</ul>
<p><strong>Real-world analogy:</strong> This is like sending a letter to the weather service asking &quot;What&#x27;s the weather in London?&quot; and waiting for their reply letter.</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="error-handling---dealing-with-problems">Error Handling - Dealing with Problems<a href="#error-handling---dealing-with-problems" class="hash-link" aria-label="Direct link to Error Handling - Dealing with Problems" title="Direct link to Error Handling - Dealing with Problems">​</a></h3>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> response</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">status_code </span><span class="token operator" style="color:#393A34">!=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">200</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">raise</span><span class="token plain"> Exception</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Error fetching weather data&quot;</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p><strong>What&#x27;s happening here?</strong></p>
<ul>
<li>We check if the HTTP status code is NOT 200 (which means &quot;OK/Success&quot;)</li>
<li>If it&#x27;s anything else (404, 500, 403, etc.), we raise an exception</li>
<li>This stops the function execution and signals that something went wrong</li>
</ul>
<p><strong>Why do we need this?</strong> Not all API calls succeed! Common reasons for failure:</p>
<ul>
<li>Invalid city name (404 Not Found)</li>
<li>API key problems (401 Unauthorized or 403 Forbidden)</li>
<li>Server issues (500 Internal Server Error)</li>
<li>Network problems</li>
<li>Rate limit exceeded (429 Too Many Requests)</li>
</ul>
<p><strong>What are HTTP status codes?</strong></p>
<ul>
<li>200: Success! Everything worked perfectly</li>
<li>400: Bad Request (we sent invalid data)</li>
<li>401: Unauthorized (API key missing/invalid)</li>
<li>404: Not Found (city doesn&#x27;t exist)</li>
<li>500: Server Error (their server has problems)</li>
</ul>
<p><strong>Why raise an exception?</strong> Exceptions are Python&#x27;s way of handling errors. When we raise an exception:</p>
<ul>
<li>The calling code (in <code>app.py</code>) can catch it with try/except</li>
<li>We can provide meaningful error messages to users</li>
<li>Our app doesn&#x27;t crash silently</li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="returning-the-data---success">Returning the Data - Success!<a href="#returning-the-data---success" class="hash-link" aria-label="Direct link to Returning the Data - Success!" title="Direct link to Returning the Data - Success!">​</a></h3>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> response</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">json</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p><strong>What&#x27;s happening here?</strong></p>
<ul>
<li><code>response.json()</code> converts the JSON response from Visual Crossing into a Python dictionary</li>
<li>We return that dictionary to whoever called our function</li>
</ul>
<p><strong>Why .json()?</strong> APIs typically return data in JSON format (JavaScript Object Notation). JSON looks like this:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;temperature&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">15.2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;description&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Partly cloudy&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;humidity&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">65</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<p>The <code>.json()</code> method converts this JSON string into a Python dictionary that we can work with easily.</p>
<p><strong>What gets returned?</strong> A complex dictionary containing weather data like:</p>
<ul>
<li>Current temperature, humidity, wind speed</li>
<li>Weather description and conditions</li>
<li>Forecast for upcoming days</li>
<li>Historical data</li>
<li>And much more!</li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="how-this-function-fits-into-our-app">How This Function Fits Into Our App<a href="#how-this-function-fits-into-our-app" class="hash-link" aria-label="Direct link to How This Function Fits Into Our App" title="Direct link to How This Function Fits Into Our App">​</a></h3>
<p>Here&#x27;s the flow when someone requests weather data:</p>
<ol>
<li><strong>User visits</strong> <code>/weather?city=London</code></li>
<li><strong>app.py calls</strong> <code>get_weather(&quot;London&quot;)</code></li>
<li><strong>This function builds</strong> the Visual Crossing API URL</li>
<li><strong>Makes HTTP request</strong> to Visual Crossing servers</li>
<li><strong>Checks for errors</strong> in the response</li>
<li><strong>Converts JSON to Python dict</strong> and returns it</li>
<li><strong>app.py receives</strong> the weather data and sends it to the user</li>
</ol>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="part-3-redis-caching-system---cachepy">Part 3: Redis Caching System - cache.py<a href="#part-3-redis-caching-system---cachepy" class="hash-link" aria-label="Direct link to Part 3: Redis Caching System - cache.py" title="Direct link to Part 3: Redis Caching System - cache.py">​</a></h2>
<p>Let&#x27;s break down this Redis caching code line by line to understand how we store and retrieve data for lightning-fast performance!</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="what-is-caching-and-why-do-we-need-it">What is Caching and Why Do We Need It?<a href="#what-is-caching-and-why-do-we-need-it" class="hash-link" aria-label="Direct link to What is Caching and Why Do We Need It?" title="Direct link to What is Caching and Why Do We Need It?">​</a></h3>
<p>Before diving into the code, let&#x27;s understand caching:</p>
<p><strong>What is caching?</strong> Caching is like keeping frequently used items in an easily accessible place. Imagine you have a cookbook you use daily - instead of going to the library every time, you keep it on your kitchen counter.</p>
<p><strong>Why cache weather data?</strong></p>
<ul>
<li>Weather doesn&#x27;t change every second</li>
<li>External API calls are slow (network latency)</li>
<li>External APIs often have usage limits</li>
<li>Users expect fast responses</li>
</ul>
<p><strong>Real-world analogy:</strong> It&#x27;s like a coffee shop memorizing regular customers&#x27; orders instead of asking every time!</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="import-statements---getting-our-tools-ready-1">Import Statements - Getting Our Tools Ready<a href="#import-statements---getting-our-tools-ready-1" class="hash-link" aria-label="Direct link to Import Statements - Getting Our Tools Ready" title="Direct link to Import Statements - Getting Our Tools Ready">​</a></h3>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> redis</span><br></span></code></pre></div></div>
<p><strong>What&#x27;s happening here?</strong> We&#x27;re importing the <code>redis</code> library, which is the Python client for Redis database.</p>
<p><strong>What is Redis?</strong> Redis is an in-memory data store that&#x27;s incredibly fast. Think of it as a super-fast notebook that can store key-value pairs in your computer&#x27;s RAM instead of on the slow hard drive.</p>
<p><strong>Why Redis for caching?</strong></p>
<ul>
<li><strong>Lightning fast</strong>: Data is stored in RAM, not on disk</li>
<li><strong>Simple</strong>: Perfect for key-value storage (city name → weather data)</li>
<li><strong>Automatic expiration</strong>: Data can automatically disappear after a set time</li>
<li><strong>Widely used</strong>: Industry standard for caching</li>
</ul>
<hr>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> os</span><br></span></code></pre></div></div>
<p><strong>What&#x27;s happening here?</strong> We&#x27;re importing Python&#x27;s built-in <code>os</code> module for accessing environment variables.</p>
<p><strong>Why do we need this?</strong> We need to get the Redis connection URL from our environment variables, just like we did with the API key. This keeps our configuration flexible and secure.</p>
<hr>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> json</span><br></span></code></pre></div></div>
<p><strong>What&#x27;s happening here?</strong> We&#x27;re importing Python&#x27;s built-in <code>json</code> module for converting data between Python objects and JSON strings.</p>
<p><strong>Why do we need JSON here?</strong> Redis can only store strings, but our weather data is complex Python dictionaries. JSON acts as our translator:</p>
<ul>
<li><strong>Going in</strong>: Python dict → JSON string → Redis</li>
<li><strong>Coming out</strong>: Redis → JSON string → Python dict</li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="redis-connection-setup">Redis Connection Setup<a href="#redis-connection-setup" class="hash-link" aria-label="Direct link to Redis Connection Setup" title="Direct link to Redis Connection Setup">​</a></h3>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">redis_url </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> os</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">getenv</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;REDIS_URL&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;redis://localhost:6379&quot;</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p><strong>What&#x27;s happening here?</strong></p>
<ul>
<li><code>os.getenv(&quot;REDIS_URL&quot;, &quot;redis://localhost:6379&quot;)</code> looks for a <code>REDIS_URL</code> environment variable</li>
<li>If it finds one, it uses that value</li>
<li>If it doesn&#x27;t find one, it uses the default: <code>&quot;redis://localhost:6379&quot;</code></li>
</ul>
<p><strong>Why do we need this?</strong> Different environments need different Redis servers:</p>
<ul>
<li><strong>Development</strong>: Local Redis on your computer (<code>localhost:6379</code>)</li>
<li><strong>Production</strong>: Cloud Redis service (like Redis Cloud, AWS ElastiCache)</li>
<li><strong>Testing</strong>: Separate test database</li>
</ul>
<p><strong>Breaking down the URL:</strong></p>
<ul>
<li><code>redis://</code> - The protocol (like <code>http://</code> but for Redis)</li>
<li><code>localhost</code> - The server address (your computer in development)</li>
<li><code>6379</code> - The port number (Redis&#x27;s standard port)</li>
</ul>
<p><strong>Production example:</strong> In production, your <code>REDIS_URL</code> might look like:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">redis://username:password@redis-server.amazonaws.com:6379</span><br></span></code></pre></div></div>
<hr>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">r </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> redis</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Redis</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">from_url</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">redis_url</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p><strong>What&#x27;s happening here?</strong></p>
<ul>
<li>We create a Redis connection object using the URL we just configured</li>
<li><code>redis.Redis.from_url()</code> is a convenient method that parses the URL and creates the connection</li>
<li>We store this connection in a variable called <code>r</code> (short and sweet!)</li>
</ul>
<p><strong>Why create a connection object?</strong> This connection object (<code>r</code>) is our gateway to the Redis database. Every time we want to store or retrieve data, we&#x27;ll use this object.</p>
<p><strong>What happens behind the scenes?</strong> The Redis library establishes a connection pool to the Redis server, handles authentication, and manages the network communication for us.</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="cache-retrieval-function---getting-data-out">Cache Retrieval Function - Getting Data Out<a href="#cache-retrieval-function---getting-data-out" class="hash-link" aria-label="Direct link to Cache Retrieval Function - Getting Data Out" title="Direct link to Cache Retrieval Function - Getting Data Out">​</a></h3>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">cache_get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">key</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><br></span></code></pre></div></div>
<p><strong>What&#x27;s happening here?</strong> We&#x27;re defining a function called <code>cache_get</code> that takes one parameter: <code>key</code>.</p>
<p><strong>What&#x27;s a cache key?</strong> A cache key is like a label on a storage box. In our case, we&#x27;ll use city names as keys:</p>
<ul>
<li>Key: <code>&quot;London&quot;</code> → Value: <code>{weather data for London}</code></li>
<li>Key: <code>&quot;Paris&quot;</code> → Value: <code>{weather data for Paris}</code></li>
</ul>
<p><strong>Why create this function?</strong> This function abstracts away the complexity of Redis operations. Instead of remembering Redis syntax everywhere, we just call <code>cache_get(&quot;London&quot;)</code>.</p>
<hr>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">data </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> r</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">key</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p><strong>What&#x27;s happening here?</strong></p>
<ul>
<li>We ask Redis to retrieve the data stored under the given key</li>
<li><code>r.get(key)</code> returns the stored value, or <code>None</code> if the key doesn&#x27;t exist</li>
<li>We store whatever we get back in the <code>data</code> variable</li>
</ul>
<p><strong>What format is the data in?</strong> Redis returns data as bytes (binary data), not as a Python string or dictionary. That&#x27;s why we need the next step...</p>
<p><strong>Example:</strong> If we call <code>cache_get(&quot;London&quot;)</code>, this line asks Redis: &quot;Do you have anything stored under the key &#x27;London&#x27;?&quot;</p>
<hr>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> data</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> json</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">loads</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p><strong>What&#x27;s happening here?</strong></p>
<ul>
<li>We check if we actually got data back from Redis</li>
<li>If we did, <code>json.loads(data)</code> converts the JSON string back into a Python dictionary</li>
<li>We return that dictionary to whoever called our function</li>
</ul>
<p><strong>Why json.loads()?</strong> Remember, we stored Python dictionaries as JSON strings in Redis. Now we need to convert them back:</p>
<ul>
<li><strong>What Redis gives us</strong>: <code>&#x27;{&quot;temperature&quot;: 15.2, &quot;description&quot;: &quot;Sunny&quot;}&#x27;</code> (JSON string)</li>
<li><strong>What json.loads() returns</strong>: <code>{&quot;temperature&quot;: 15.2, &quot;description&quot;: &quot;Sunny&quot;}</code> (Python dict)</li>
</ul>
<p><strong>The data flow:</strong></p>
<ol>
<li><strong>Request</strong>: <code>cache_get(&quot;London&quot;)</code></li>
<li><strong>Redis returns</strong>: JSON string of London&#x27;s weather</li>
<li><strong>json.loads() converts</strong>: JSON string → Python dictionary</li>
<li><strong>We return</strong>: Usable Python weather data</li>
</ol>
<hr>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">None</span><br></span></code></pre></div></div>
<p><strong>What&#x27;s happening here?</strong> If Redis didn&#x27;t have any data for our key, we return <code>None</code> to indicate &quot;no cached data found.&quot;</p>
<p><strong>Why return None?</strong> This is a clear signal to the calling code (in <code>app.py</code>) that:</p>
<ul>
<li>The data isn&#x27;t cached</li>
<li>We need to fetch fresh data from the API</li>
<li>This is expected behavior, not an error</li>
</ul>
<p><strong>How app.py uses this:</strong></p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cached </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> cache_get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">city</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> cached</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># Use cached data</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">else</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># Fetch fresh data from API</span><br></span></code></pre></div></div>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="cache-storage-function---putting-data-in">Cache Storage Function - Putting Data In<a href="#cache-storage-function---putting-data-in" class="hash-link" aria-label="Direct link to Cache Storage Function - Putting Data In" title="Direct link to Cache Storage Function - Putting Data In">​</a></h3>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">cache_set</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">key</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> value</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> ex</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">43200</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><br></span></code></pre></div></div>
<p><strong>What&#x27;s happening here?</strong> We&#x27;re defining a function called <code>cache_set</code> that takes three parameters:</p>
<ul>
<li><code>key</code>: The label for our data (like &quot;London&quot;)</li>
<li><code>value</code>: The data to store (weather dictionary)</li>
<li><code>ex=43200</code>: Expiration time in seconds (default is 12 hours)</li>
</ul>
<p><strong>Why have an expiration time?</strong> Weather data gets stale! We don&#x27;t want to serve yesterday&#x27;s weather. After 12 hours, Redis automatically deletes the cached data, forcing us to fetch fresh data.</p>
<p><strong>Why 43200 seconds?</strong></p>
<ul>
<li>43200 seconds = 12 hours</li>
<li>Weather conditions can change throughout the day</li>
<li>12 hours is a good balance between performance and accuracy</li>
</ul>
<hr>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">r</span><span class="token punctuation" style="color:#393A34">.</span><span class="token builtin">set</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">key</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> json</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">dumps</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">value</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> ex</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">ex</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p><strong>What&#x27;s happening here?</strong></p>
<ul>
<li><code>json.dumps(value)</code> converts our Python dictionary into a JSON string</li>
<li><code>r.set(key, ...)</code> stores the JSON string in Redis under the given key</li>
<li><code>ex=ex</code> sets the expiration time</li>
</ul>
<p><strong>Breaking it down:</strong></p>
<ol>
<li><strong>Convert to JSON</strong>: Python dict → JSON string (so Redis can store it)</li>
<li><strong>Store in Redis</strong>: Save the JSON string with the city name as the key</li>
<li><strong>Set expiration</strong>: Tell Redis to automatically delete this after <code>ex</code> seconds</li>
</ol>
<p><strong>Example of what gets stored:</strong></p>
<ul>
<li><strong>Key</strong>: <code>&quot;London&quot;</code></li>
<li><strong>Value</strong>: <code>&#x27;{&quot;temperature&quot;: 15.2, &quot;humidity&quot;: 65, &quot;description&quot;: &quot;Partly cloudy&quot;}&#x27;</code></li>
<li><strong>Expires</strong>: In 12 hours</li>
</ul>
<p><strong>Why json.dumps()?</strong> Redis can only store strings, bytes, or numbers. Our weather data is a complex Python dictionary with nested objects. JSON is the perfect format to serialize (convert) complex data into a string that Redis can handle.</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="how-these-functions-work-together">How These Functions Work Together<a href="#how-these-functions-work-together" class="hash-link" aria-label="Direct link to How These Functions Work Together" title="Direct link to How These Functions Work Together">​</a></h3>
<p>Here&#x27;s the complete caching flow in our weather API:</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="when-a-user-requests-weather-data">When a user requests weather data:<a href="#when-a-user-requests-weather-data" class="hash-link" aria-label="Direct link to When a user requests weather data:" title="Direct link to When a user requests weather data:">​</a></h4>
<ol>
<li>
<p><strong>Check cache first</strong> (in <code>app.py</code>):</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cached </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> cache_get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;London&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Look for London&#x27;s weather</span><br></span></code></pre></div></div>
</li>
<li>
<p><strong>If cache hit</strong> (data exists):</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> cached</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> jsonify</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">&quot;source&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;cache&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;data&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> cached</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<ul>
<li>Data is returned instantly (microseconds)</li>
<li>No API call needed</li>
<li>User gets fast response</li>
</ul>
</li>
<li>
<p><strong>If cache miss</strong> (no data):</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">data </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> get_weather</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;London&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic"># Fetch from API</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cache_set</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;London&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> data</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> ex</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">43200</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Store for next time</span><br></span></code></pre></div></div>
<ul>
<li>Fetch fresh data from Visual Crossing API</li>
<li>Store it in cache for 12 hours</li>
<li>Return data to user</li>
</ul>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="the-beauty-of-this-system">The beauty of this system:<a href="#the-beauty-of-this-system" class="hash-link" aria-label="Direct link to The beauty of this system:" title="Direct link to The beauty of this system:">​</a></h3>
<ul>
<li><strong>First request for London</strong>: Slow (API call) but data gets cached</li>
<li><strong>Next requests for London</strong>: Super fast (cache hit) for 12 hours</li>
<li><strong>After 12 hours</strong>: Cache expires, fresh data gets fetched automatically</li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="performance-impact">Performance Impact<a href="#performance-impact" class="hash-link" aria-label="Direct link to Performance Impact" title="Direct link to Performance Impact">​</a></h3>
<p><strong>Without caching:</strong></p>
<ul>
<li>Every request = API call</li>
<li>Response time: 500-2000ms</li>
<li>API usage: High</li>
<li>User experience: Slow</li>
</ul>
<p><strong>With caching:</strong></p>
<ul>
<li>First request = API call (500-2000ms)</li>
<li>Subsequent requests = Cache hit (1-10ms)</li>
<li>API usage: Reduced by 90%+</li>
<li>User experience: Lightning fast</li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="real-world-cache-scenarios">Real-World Cache Scenarios<a href="#real-world-cache-scenarios" class="hash-link" aria-label="Direct link to Real-World Cache Scenarios" title="Direct link to Real-World Cache Scenarios">​</a></h3>
<p><strong>Cache Hit Example:</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">User 1: GET /weather?city=London (11:00 AM)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">→ No cache, fetch from API, store in cache</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">→ Response time: 800ms</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">User 2: GET /weather?city=London (11:05 AM)  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">→ Cache hit! Return cached data</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">→ Response time: 5ms</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">User 3: GET /weather?city=London (2:00 PM)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">→ Cache hit! Same cached data</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">→ Response time: 5ms</span><br></span></code></pre></div></div>
<p><strong>Cache Expiration Example:</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">User 1: GET /weather?city=Paris (9:00 AM)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">→ Cache miss, fetch from API, cache expires at 9:00 PM</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">User 2: GET /weather?city=Paris (10:00 PM)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">→ Cache expired, fetch fresh data, reset cache</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">→ New cache expires at 10:00 AM next day</span><br></span></code></pre></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="conclusion-the-complete-system">Conclusion: The Complete System<a href="#conclusion-the-complete-system" class="hash-link" aria-label="Direct link to Conclusion: The Complete System" title="Direct link to Conclusion: The Complete System">​</a></h2>
<p>Your weather API demonstrates several important concepts for building production-ready applications:</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="architecture-principles">Architecture Principles<a href="#architecture-principles" class="hash-link" aria-label="Direct link to Architecture Principles" title="Direct link to Architecture Principles">​</a></h3>
<ul>
<li><strong>Separation of Concerns</strong>: Each file has a specific responsibility</li>
<li><strong>Modularity</strong>: Code is organized into reusable functions</li>
<li><strong>Security</strong>: API keys stored in environment variables</li>
<li><strong>Performance</strong>: Redis caching reduces response times and API costs</li>
<li><strong>Reliability</strong>: Error handling and rate limiting protect the system</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="key-learning-outcomes">Key Learning Outcomes<a href="#key-learning-outcomes" class="hash-link" aria-label="Direct link to Key Learning Outcomes" title="Direct link to Key Learning Outcomes">​</a></h3>
<p>Students will understand:</p>
<ul>
<li>How to build REST APIs with Flask</li>
<li>External API integration patterns</li>
<li>Caching strategies and implementation</li>
<li>Environment-based configuration</li>
<li>Error handling and input validation</li>
<li>Rate limiting and API protection</li>
<li>Clean code organization and documentation</li>
</ul>
<p>This is an excellent example of modern web development best practices!</p></div></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/project-wiki/docs/Unit Converter/Unit Converter Web Application"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Unit Converter Web Application</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/project-wiki/docs/Weather API/Step by Step Guide for the Weather API Setup"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Step by Step Guide for the Weather API Setup</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#part-1-main-application---apppy" class="table-of-contents__link toc-highlight">Part 1: Main Application - app.py</a><ul><li><a href="#import-statements---setting-up-our-tools" class="table-of-contents__link toc-highlight">Import Statements - Setting Up Our Tools</a></li><li><a href="#application-setup" class="table-of-contents__link toc-highlight">Application Setup</a></li><li><a href="#route-definitions---the-api-endpoints" class="table-of-contents__link toc-highlight">Route Definitions - The API Endpoints</a></li><li><a href="#request-processing" class="table-of-contents__link toc-highlight">Request Processing</a></li><li><a href="#cache-logic" class="table-of-contents__link toc-highlight">Cache Logic</a></li><li><a href="#api-call-and-caching" class="table-of-contents__link toc-highlight">API Call and Caching</a></li><li><a href="#application-runner" class="table-of-contents__link toc-highlight">Application Runner</a></li><li><a href="#how-it-all-works-together" class="table-of-contents__link toc-highlight">How It All Works Together</a></li></ul></li><li><a href="#part-2-weather-api-integration---weather_apipy" class="table-of-contents__link toc-highlight">Part 2: Weather API Integration - weather_api.py</a><ul><li><a href="#import-statements---getting-our-tools-ready" class="table-of-contents__link toc-highlight">Import Statements - Getting Our Tools Ready</a></li><li><a href="#configuration---setting-up-our-api-key" class="table-of-contents__link toc-highlight">Configuration - Setting Up Our API Key</a></li><li><a href="#the-weather-function---where-the-magic-happens" class="table-of-contents__link toc-highlight">The Weather Function - Where the Magic Happens</a></li><li><a href="#building-the-api-url---crafting-our-request" class="table-of-contents__link toc-highlight">Building the API URL - Crafting Our Request</a></li><li><a href="#making-the-api-call---sending-our-request" class="table-of-contents__link toc-highlight">Making the API Call - Sending Our Request</a></li><li><a href="#error-handling---dealing-with-problems" class="table-of-contents__link toc-highlight">Error Handling - Dealing with Problems</a></li><li><a href="#returning-the-data---success" class="table-of-contents__link toc-highlight">Returning the Data - Success!</a></li><li><a href="#how-this-function-fits-into-our-app" class="table-of-contents__link toc-highlight">How This Function Fits Into Our App</a></li></ul></li><li><a href="#part-3-redis-caching-system---cachepy" class="table-of-contents__link toc-highlight">Part 3: Redis Caching System - cache.py</a><ul><li><a href="#what-is-caching-and-why-do-we-need-it" class="table-of-contents__link toc-highlight">What is Caching and Why Do We Need It?</a></li><li><a href="#import-statements---getting-our-tools-ready-1" class="table-of-contents__link toc-highlight">Import Statements - Getting Our Tools Ready</a></li><li><a href="#redis-connection-setup" class="table-of-contents__link toc-highlight">Redis Connection Setup</a></li><li><a href="#cache-retrieval-function---getting-data-out" class="table-of-contents__link toc-highlight">Cache Retrieval Function - Getting Data Out</a></li><li><a href="#cache-storage-function---putting-data-in" class="table-of-contents__link toc-highlight">Cache Storage Function - Putting Data In</a></li><li><a href="#how-these-functions-work-together" class="table-of-contents__link toc-highlight">How These Functions Work Together</a></li><li><a href="#the-beauty-of-this-system" class="table-of-contents__link toc-highlight">The beauty of this system:</a></li><li><a href="#performance-impact" class="table-of-contents__link toc-highlight">Performance Impact</a></li><li><a href="#real-world-cache-scenarios" class="table-of-contents__link toc-highlight">Real-World Cache Scenarios</a></li></ul></li><li><a href="#conclusion-the-complete-system" class="table-of-contents__link toc-highlight">Conclusion: The Complete System</a><ul><li><a href="#architecture-principles" class="table-of-contents__link toc-highlight">Architecture Principles</a></li><li><a href="#key-learning-outcomes" class="table-of-contents__link toc-highlight">Key Learning Outcomes</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/project-wiki/docs/intro">Tutorial</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.linkedin.com/in/ezra-yeswa/" target="_blank" rel="noopener noreferrer" class="footer__link-item">LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://discord.com/channels/@me" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/project-wiki/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/king-luvaha" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://roadmap.sh/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Roadmap<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 MekSense by Ezra Yeswa. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>